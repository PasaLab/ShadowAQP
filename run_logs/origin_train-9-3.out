main.py:20: FutureWarning: Passing a negative integer is deprecated in version 1.0 and will not be supported in future version. Instead, use None to not limit the column width.
  pd.set_option('max_colwidth', -1)
2021-12-16 18:57:02,383 - __main__ - INFO - load query config config/query/customer_with_inc_join_supplier.json successfully
2021-12-16 18:57:02,383 - __main__ - INFO - load train config ./config/train/tpch_customer_with_inc_torch_cvae.json successfully
2021-12-16 18:57:02,383 - __main__ - INFO - load train config ./config/train/tpch_supplier_torch_cvae.json successfully
2021-12-16 18:57:02,383 - utils.dataset_utils - INFO - load existing dataset(light):tpch-1m-customer-with-inc_c_nationkey_c_acctbal_c_nationkey_binary_gaussian5_0
2021-12-16 18:57:02,426 - utils.dataset_utils - INFO - load dataset(light) time elapsed:0.04243876878172159
2021-12-16 18:57:02,426 - models.pytorch_cvae - INFO - feature info:[('c_acctbal', 'numerical', 6), ('c_nationkey', 'categorical', 6)]
2021-12-16 18:57:02,427 - utils.model_utils - INFO - load model name:torch_cvae_tpch-1m-customer-with-inc_c_nationkey_ld50_id100_bs1024_ep100_0_binary_gaussian5
2021-12-16 18:57:04,487 - utils.model_utils - INFO - load torch model time elapsed:2.059487815015018
2021-12-16 18:57:04,487 - models.pytorch_cvae - INFO - load model time elapsed:2.103361425921321
2021-12-16 18:57:04,487 - utils.dataset_utils - INFO - load existing dataset(light):tpch-1m-supplier_s_nationkey#s_suppkey_s_acctbal_s_nationkey_binary_gaussian5_0
2021-12-16 18:57:04,489 - utils.dataset_utils - INFO - load dataset(light) time elapsed:0.002583595924079418
2021-12-16 18:57:04,489 - models.pytorch_cvae - INFO - feature info:[('s_acctbal', 'numerical', 6), ('s_nationkey', 'categorical', 6), ('s_suppkey', 'categorical', 15)]
2021-12-16 18:57:04,490 - utils.model_utils - INFO - load model name:torch_cvae_tpch-1m-supplier_s_nationkey_ld50_id100_bs32_ep150_0_binary_gaussian5
2021-12-16 18:57:04,491 - utils.model_utils - INFO - load torch model time elapsed:0.0013472074642777443
2021-12-16 18:57:04,491 - models.pytorch_cvae - INFO - load model time elapsed:0.004654156044125557
2021-12-16 18:57:04,491 - __main__ - INFO - multi_sampling No.0 epoch
2021-12-16 18:57:04,492 - models.pytorch_cvae - INFO - statistics sampling rate:0.09
2021-12-16 18:57:04,492 - __main__ - INFO - multi_sampling No.1 epoch
2021-12-16 18:57:04,498 - models.pytorch_cvae - INFO - statistics sampling rate:0.09
2021-12-16 18:57:04,499 - __main__ - INFO - multi_sampling No.2 epoch
2021-12-16 18:57:04,500 - models.pytorch_cvae - INFO - statistics sampling rate:0.09
2021-12-16 18:57:06,071 - models.pytorch_cvae - INFO - sampling time:1.5788539070636034
2021-12-16 18:57:06,168 - models.pytorch_cvae - INFO - sampling time:1.6695054583251476
2021-12-16 18:57:06,769 - models.pytorch_cvae - INFO - sampling time:2.2681770529597998
2021-12-16 18:57:07,564 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:57:07,597 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:57:07,705 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:57:07,789 - models.pytorch_cvae - INFO - sampling time:0.08436720911413431
2021-12-16 18:57:08,011 - models.pytorch_cvae - INFO - sampling time:0.39964698627591133
2021-12-16 18:57:08,014 - models.pytorch_cvae - INFO - sampling time:0.449294988065958
2021-12-16 18:57:08,256 - __main__ - INFO - sample and aggregation time elapsed:3.7563502322882414
2021-12-16 18:57:08,403 - __main__ - INFO - sample and aggregation time elapsed:3.911023883149028
2021-12-16 18:57:08,518 - __main__ - INFO - sample and aggregation time elapsed:4.01930608600378
2021-12-16 18:57:08,522 - __main__ - INFO - sample time:4.030845646746457
2021-12-16 18:57:08,535 - __main__ - INFO - aqp result:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           4512.19         4559.22         75093105580.41  75875803435.57 
1           4558.59         4678.16         79382924416.08  81465099257.27 
2           4510.57         5079.37         83797990745.05  94365360551.05 
3           4498.54         5157.14         84101980683.43  96414897457.21 
4           4504.34         4548.01         71024522750.12  71712976913.06 
5           4537.66         4859.16         70083554866.14  75049055386.06 
6           4550.06         5676.90         79956277142.94  99757736542.90 
7           4487.89         4854.04         77201497672.52  83500127460.98 
8           4494.51         4554.89         78895986811.83  79955884932.01 
9           4499.81         5039.61         78503679417.30  87921006001.79 
10          4484.48         5072.68         81324438811.90  91991366363.85 
11          4551.18         4673.56         82409153761.23  84625110540.28 
12          4481.09         4849.56         77087930152.60  83426589293.77 
13          4509.13         5265.22         74102292739.37  86527757553.35 
14          4504.36         5292.98         81376953316.03  95624402818.28 
15          4515.44         4691.35         73473678088.23  76335972547.24 
16          4446.65         5215.25         74247015279.17  87080459824.28 
17          4426.18         4923.74         75934249348.67  84470236142.92 
18          4436.84         4602.11         79467872067.04  82428018082.58 
19          4489.02         5109.95         75434337964.40  85868704757.32 
20          4491.41         5411.83         78501444264.67  94588576597.82 
21          4469.89         4561.97         78599331679.61  80218483237.99 
22          4436.37         4933.68         79182514443.98  88058657787.39 
23          4507.58         5345.57         76654756410.06  90905486162.43 
24          4467.65         5464.75         79577855052.27  97338192471.96 
2021-12-16 18:57:08,538 - __main__ - INFO - ground truth:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           4495.08         4750.47         74808300307.97  79058543738.51 
1           4481.35         5156.38         78037804737.42  89792862870.19 
2           4500.11         4926.83         83603605816.42  91531433246.36 
3           4501.52         4976.52         84157817962.92  93037962787.86 
4           4481.25         4955.13         70660420363.18  78132509824.90 
5           4506.27         5017.03         69598653692.12  77487270820.80 
6           4487.10         5263.09         78849876383.14  92485978451.44 
7           4480.55         4725.51         77075278088.26  81289117007.37 
8           4500.54         4898.26         79001842301.71  85983328363.66 
9           4508.52         5056.46         78655627222.94  88215027610.30 
10          4518.18         4934.04         81935710769.84  89477117315.13 
11          4512.10         4846.61         81701543083.81  87758487179.40 
12          4496.61         4905.97         77354913969.64  84397069733.16 
13          4506.92         4967.01         74066058944.76  81627052771.36 
14          4482.32         4748.57         80978762526.42  85788910922.73 
15          4515.02         4993.59         73466872175.01  81253978684.79 
16          4511.16         5125.84         75324113973.83  85587620982.90 
17          4471.53         5194.81         76712255703.01  89120736244.02 
18          4468.37         5153.13         80032519501.53  92297274686.32 
19          4490.91         4865.91         75466160926.82  81767784036.93 
20          4494.50         5210.90         78555417820.06  91076766492.73 
21          4497.21         5087.25         79079595482.76  89454975198.84 
22          4529.54         4945.33         80845288221.60  88266586724.51 
23          4489.35         4974.00         76344790639.43  84586573926.78 
24          4516.77         5065.90         80452749791.40  90233921611.59 
2021-12-16 18:57:08,549 - __main__ - INFO - relative error:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           0.00            0.04            0.00            0.04           
1           0.02            0.09            0.02            0.09           
2           0.00            0.03            0.00            0.03           
3           0.00            0.04            0.00            0.04           
4           0.01            0.08            0.01            0.08           
5           0.01            0.03            0.01            0.03           
6           0.01            0.08            0.01            0.08           
7           0.00            0.03            0.00            0.03           
8           0.00            0.07            0.00            0.07           
9           0.00            0.00            0.00            0.00           
10          0.01            0.03            0.01            0.03           
11          0.01            0.04            0.01            0.04           
12          0.00            0.01            0.00            0.01           
13          0.00            0.06            0.00            0.06           
14          0.00            0.11            0.00            0.11           
15          0.00            0.06            0.00            0.06           
16          0.01            0.02            0.01            0.02           
17          0.01            0.05            0.01            0.05           
18          0.01            0.11            0.01            0.11           
19          0.00            0.05            0.00            0.05           
20          0.00            0.04            0.00            0.04           
21          0.01            0.10            0.01            0.10           
22          0.02            0.00            0.02            0.00           
23          0.00            0.07            0.00            0.07           
24          0.01            0.08            0.01            0.08           
2021-12-16 18:57:08,550 - __main__ - INFO - relative error average :0.02964631071068427
2021-12-16 18:57:08,550 - __main__ - INFO - relative error normalized average :0.02869909698811017
2021-12-16 18:57:08,550 - __main__ - INFO - relative error var normalized average :0.0052041538264478195
2021-12-16 18:57:08,550 - __main__ - INFO - total_time:6.167319156229496
