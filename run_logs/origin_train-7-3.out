main.py:20: FutureWarning: Passing a negative integer is deprecated in version 1.0 and will not be supported in future version. Instead, use None to not limit the column width.
  pd.set_option('max_colwidth', -1)
2021-12-16 18:56:09,950 - __main__ - INFO - load query config config/query/customer_with_inc_join_supplier.json successfully
2021-12-16 18:56:09,950 - __main__ - INFO - load train config ./config/train/tpch_customer_with_inc_torch_cvae.json successfully
2021-12-16 18:56:09,950 - __main__ - INFO - load train config ./config/train/tpch_supplier_torch_cvae.json successfully
2021-12-16 18:56:09,950 - utils.dataset_utils - INFO - load existing dataset(light):tpch-1m-customer-with-inc_c_nationkey_c_acctbal_c_nationkey_binary_gaussian5_0
2021-12-16 18:56:09,993 - utils.dataset_utils - INFO - load dataset(light) time elapsed:0.0424334891140461
2021-12-16 18:56:09,993 - models.pytorch_cvae - INFO - feature info:[('c_acctbal', 'numerical', 6), ('c_nationkey', 'categorical', 6)]
2021-12-16 18:56:09,994 - utils.model_utils - INFO - load model name:torch_cvae_tpch-1m-customer-with-inc_c_nationkey_ld50_id100_bs1024_ep100_0_binary_gaussian5
2021-12-16 18:56:12,083 - utils.model_utils - INFO - load torch model time elapsed:2.0886627454310656
2021-12-16 18:56:12,083 - models.pytorch_cvae - INFO - load model time elapsed:2.1325617358088493
2021-12-16 18:56:12,083 - utils.dataset_utils - INFO - load existing dataset(light):tpch-1m-supplier_s_nationkey#s_suppkey_s_acctbal_s_nationkey_binary_gaussian5_0
2021-12-16 18:56:12,085 - utils.dataset_utils - INFO - load dataset(light) time elapsed:0.0026992177590727806
2021-12-16 18:56:12,086 - models.pytorch_cvae - INFO - feature info:[('s_acctbal', 'numerical', 6), ('s_nationkey', 'categorical', 6), ('s_suppkey', 'categorical', 15)]
2021-12-16 18:56:12,086 - utils.model_utils - INFO - load model name:torch_cvae_tpch-1m-supplier_s_nationkey_ld50_id100_bs32_ep150_0_binary_gaussian5
2021-12-16 18:56:12,087 - utils.model_utils - INFO - load torch model time elapsed:0.0013925982639193535
2021-12-16 18:56:12,088 - models.pytorch_cvae - INFO - load model time elapsed:0.004841633141040802
2021-12-16 18:56:12,088 - __main__ - INFO - multi_sampling No.0 epoch
2021-12-16 18:56:12,088 - models.pytorch_cvae - INFO - statistics sampling rate:0.07
2021-12-16 18:56:12,088 - __main__ - INFO - multi_sampling No.1 epoch
2021-12-16 18:56:12,094 - models.pytorch_cvae - INFO - statistics sampling rate:0.07
2021-12-16 18:56:12,094 - __main__ - INFO - multi_sampling No.2 epoch
2021-12-16 18:56:12,095 - models.pytorch_cvae - INFO - statistics sampling rate:0.07
2021-12-16 18:56:13,381 - models.pytorch_cvae - INFO - sampling time:1.2927430076524615
2021-12-16 18:56:13,439 - models.pytorch_cvae - INFO - sampling time:1.3432512981817126
2021-12-16 18:56:14,340 - models.pytorch_cvae - INFO - sampling time:2.2456629937514663
2021-12-16 18:56:14,417 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:56:14,428 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:56:14,575 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:56:14,623 - models.pytorch_cvae - INFO - sampling time:0.19606691598892212
2021-12-16 18:56:14,742 - models.pytorch_cvae - INFO - sampling time:0.3139687832444906
2021-12-16 18:56:14,791 - models.pytorch_cvae - INFO - sampling time:0.21580166649073362
2021-12-16 18:56:14,958 - __main__ - INFO - sample and aggregation time elapsed:2.8697026446461678
2021-12-16 18:56:15,034 - __main__ - INFO - sample and aggregation time elapsed:2.939353601075709
2021-12-16 18:56:15,085 - __main__ - INFO - sample and aggregation time elapsed:2.9914038348942995
2021-12-16 18:56:15,089 - __main__ - INFO - sample time:3.0018768114969134
2021-12-16 18:56:15,102 - __main__ - INFO - aqp result:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           4520.59         4686.87         75232801678.54  78000045524.18 
1           4498.25         5044.31         78332142489.93  87841219452.72 
2           4547.00         4814.82         84474741949.83  89450380143.79 
3           4556.88         5057.01         85192627415.36  94542865557.68 
4           4542.01         4869.01         71618382458.17  76774504890.20 
5           4481.56         4354.57         69217110963.22  67255693203.53 
6           4466.27         4238.41         78483859568.14  74479636896.85 
7           4508.45         4956.41         77555151441.10  85261071812.42 
8           4541.39         5425.77         79718835328.89  95243234673.69 
9           4463.42         5334.59         77868870162.68  93067296785.87 
10          4519.27         5127.77         81955403423.94  92990368480.80 
11          4565.21         4936.51         82663184361.62  89386439567.81 
12          4474.52         4329.58         76974919448.72  74481491633.09 
13          4501.82         4727.28         73982225755.65  77687394366.23 
14          4472.00         4963.17         80792408313.22  89665969297.23 
15          4508.30         4795.65         73357554415.90  78033238377.89 
16          4456.59         4884.89         74412898655.89  81564453342.85 
17          4476.82         5293.23         76803087426.49  90809121954.37 
18          4440.80         5261.78         79538795621.38  94243230595.10 
19          4464.43         5220.36         75021141603.73  87723952516.09 
20          4448.32         5035.34         77748197381.03  88008241365.36 
21          4416.74         5279.27         77664644615.74  92831449737.58 
22          4391.10         5122.21         78374447412.04  91423686762.99 
23          4511.57         4770.95         76722735981.86  81133675276.70 
24          4446.58         5010.00         79202498284.24  89238264473.57 
2021-12-16 18:56:15,105 - __main__ - INFO - ground truth:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           4495.08         4750.47         74808300307.97  79058543738.51 
1           4481.35         5156.38         78037804737.42  89792862870.19 
2           4500.11         4926.83         83603605816.42  91531433246.36 
3           4501.52         4976.52         84157817962.92  93037962787.86 
4           4481.25         4955.13         70660420363.18  78132509824.90 
5           4506.27         5017.03         69598653692.12  77487270820.80 
6           4487.10         5263.09         78849876383.14  92485978451.44 
7           4480.55         4725.51         77075278088.26  81289117007.37 
8           4500.54         4898.26         79001842301.71  85983328363.66 
9           4508.52         5056.46         78655627222.94  88215027610.30 
10          4518.18         4934.04         81935710769.84  89477117315.13 
11          4512.10         4846.61         81701543083.81  87758487179.40 
12          4496.61         4905.97         77354913969.64  84397069733.16 
13          4506.92         4967.01         74066058944.76  81627052771.36 
14          4482.32         4748.57         80978762526.42  85788910922.73 
15          4515.02         4993.59         73466872175.01  81253978684.79 
16          4511.16         5125.84         75324113973.83  85587620982.90 
17          4471.53         5194.81         76712255703.01  89120736244.02 
18          4468.37         5153.13         80032519501.53  92297274686.32 
19          4490.91         4865.91         75466160926.82  81767784036.93 
20          4494.50         5210.90         78555417820.06  91076766492.73 
21          4497.21         5087.25         79079595482.76  89454975198.84 
22          4529.54         4945.33         80845288221.60  88266586724.51 
23          4489.35         4974.00         76344790639.43  84586573926.78 
24          4516.77         5065.90         80452749791.40  90233921611.59 
2021-12-16 18:56:15,116 - __main__ - INFO - relative error:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           0.01            0.01            0.01            0.01           
1           0.00            0.02            0.00            0.02           
2           0.01            0.02            0.01            0.02           
3           0.01            0.02            0.01            0.02           
4           0.01            0.02            0.01            0.02           
5           0.01            0.13            0.01            0.13           
6           0.00            0.19            0.00            0.19           
7           0.01            0.05            0.01            0.05           
8           0.01            0.11            0.01            0.11           
9           0.01            0.06            0.01            0.06           
10          0.00            0.04            0.00            0.04           
11          0.01            0.02            0.01            0.02           
12          0.00            0.12            0.00            0.12           
13          0.00            0.05            0.00            0.05           
14          0.00            0.05            0.00            0.05           
15          0.00            0.04            0.00            0.04           
16          0.01            0.05            0.01            0.05           
17          0.00            0.02            0.00            0.02           
18          0.01            0.02            0.01            0.02           
19          0.01            0.07            0.01            0.07           
20          0.01            0.03            0.01            0.03           
21          0.02            0.04            0.02            0.04           
22          0.03            0.04            0.03            0.04           
23          0.00            0.04            0.00            0.04           
24          0.02            0.01            0.02            0.01           
2021-12-16 18:56:15,116 - __main__ - INFO - relative error average :0.02929212288670596
2021-12-16 18:56:15,117 - __main__ - INFO - relative error normalized average :0.028212533500999205
2021-12-16 18:56:15,117 - __main__ - INFO - relative error var normalized average :0.005951667867140959
2021-12-16 18:56:15,117 - __main__ - INFO - total_time:5.167434326373041
