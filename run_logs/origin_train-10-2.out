main.py:20: FutureWarning: Passing a negative integer is deprecated in version 1.0 and will not be supported in future version. Instead, use None to not limit the column width.
  pd.set_option('max_colwidth', -1)
2021-12-16 18:57:20,895 - __main__ - INFO - load query config config/query/customer_with_inc_join_supplier.json successfully
2021-12-16 18:57:20,895 - __main__ - INFO - load train config ./config/train/tpch_customer_with_inc_torch_cvae.json successfully
2021-12-16 18:57:20,895 - __main__ - INFO - load train config ./config/train/tpch_supplier_torch_cvae.json successfully
2021-12-16 18:57:20,895 - utils.dataset_utils - INFO - load existing dataset(light):tpch-1m-customer-with-inc_c_nationkey_c_acctbal_c_nationkey_binary_gaussian5_0
2021-12-16 18:57:20,933 - utils.dataset_utils - INFO - load dataset(light) time elapsed:0.03762027155607939
2021-12-16 18:57:20,933 - models.pytorch_cvae - INFO - feature info:[('c_acctbal', 'numerical', 6), ('c_nationkey', 'categorical', 6)]
2021-12-16 18:57:20,934 - utils.model_utils - INFO - load model name:torch_cvae_tpch-1m-customer-with-inc_c_nationkey_ld50_id100_bs1024_ep100_0_binary_gaussian5
2021-12-16 18:57:23,041 - utils.model_utils - INFO - load torch model time elapsed:2.107091896235943
2021-12-16 18:57:23,041 - models.pytorch_cvae - INFO - load model time elapsed:2.146127050742507
2021-12-16 18:57:23,041 - utils.dataset_utils - INFO - load existing dataset(light):tpch-1m-supplier_s_nationkey#s_suppkey_s_acctbal_s_nationkey_binary_gaussian5_0
2021-12-16 18:57:23,044 - utils.dataset_utils - INFO - load dataset(light) time elapsed:0.0026386892423033714
2021-12-16 18:57:23,044 - models.pytorch_cvae - INFO - feature info:[('s_acctbal', 'numerical', 6), ('s_nationkey', 'categorical', 6), ('s_suppkey', 'categorical', 15)]
2021-12-16 18:57:23,044 - utils.model_utils - INFO - load model name:torch_cvae_tpch-1m-supplier_s_nationkey_ld50_id100_bs32_ep150_0_binary_gaussian5
2021-12-16 18:57:23,046 - utils.model_utils - INFO - load torch model time elapsed:0.0014218976721167564
2021-12-16 18:57:23,046 - models.pytorch_cvae - INFO - load model time elapsed:0.004776756279170513
2021-12-16 18:57:23,046 - __main__ - INFO - multi_sampling No.0 epoch
2021-12-16 18:57:23,046 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:57:23,047 - __main__ - INFO - multi_sampling No.1 epoch
2021-12-16 18:57:23,052 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:57:23,053 - __main__ - INFO - multi_sampling No.2 epoch
2021-12-16 18:57:23,053 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:57:25,002 - models.pytorch_cvae - INFO - sampling time:1.9549432378262281
2021-12-16 18:57:25,099 - models.pytorch_cvae - INFO - sampling time:2.0450146310031414
2021-12-16 18:57:25,415 - models.pytorch_cvae - INFO - sampling time:2.3617156920954585
2021-12-16 18:57:26,521 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:57:26,622 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:57:26,663 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:57:26,757 - models.pytorch_cvae - INFO - sampling time:0.09343894105404615
2021-12-16 18:57:26,835 - models.pytorch_cvae - INFO - sampling time:0.31339996214956045
2021-12-16 18:57:26,972 - models.pytorch_cvae - INFO - sampling time:0.34876561630517244
2021-12-16 18:57:27,253 - __main__ - INFO - sample and aggregation time elapsed:4.200711680576205
2021-12-16 18:57:27,370 - __main__ - INFO - sample and aggregation time elapsed:4.32345313206315
2021-12-16 18:57:27,459 - __main__ - INFO - sample and aggregation time elapsed:4.4056911170482635
2021-12-16 18:57:27,464 - __main__ - INFO - sample time:4.417534603737295
2021-12-16 18:57:27,476 - __main__ - INFO - aqp result:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           4483.88         5111.37         74621881048.88  85064676060.45 
1           4574.47         5202.11         79659386362.11  90589124416.06 
2           4481.90         4240.01         83265343639.42  78771469419.37 
3           4539.06         4919.52         84859641822.86  91972453079.04 
4           4489.97         4922.03         70797945492.00  77610590132.30 
5           4494.18         4365.36         69411934934.06  67422394558.11 
6           4504.90         4950.35         79162587851.38  86990321241.12 
7           4490.13         5206.14         77240064611.40  89556853474.63 
8           4484.37         5133.31         78717979872.29  90109366708.63 
9           4525.08         4886.66         78944569780.52  85252761806.00 
10          4485.45         4105.87         81342196259.38  74458618876.22 
11          4534.39         4895.98         82105133192.85  88652479329.98 
12          4453.80         5300.29         76618377720.61  91180495545.67 
13          4491.68         4757.39         73815453196.54  78182209096.89 
14          4491.40         5030.78         81142768055.72  90887397389.69 
15          4478.55         4694.36         72873414689.60  76385014095.40 
16          4499.18         5227.04         75124079963.99  87277347260.16 
17          4431.70         5050.58         76029045599.61  86646290751.14 
18          4438.57         4798.34         79498761416.27  85942710623.10 
19          4437.64         4868.92         74571024724.51  81818300208.99 
20          4464.11         5234.16         78024226570.04  91483200500.81 
21          4457.59         5802.56         78383053839.38  102033086960.06
22          4522.45         5340.04         80718859526.25  95311596919.60 
23          4466.30         5327.61         75952853790.81  90600075931.43 
24          4481.96         4679.51         79832818174.80  83351555185.57 
2021-12-16 18:57:27,479 - __main__ - INFO - ground truth:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           4495.08         4750.47         74808300307.97  79058543738.51 
1           4481.35         5156.38         78037804737.42  89792862870.19 
2           4500.11         4926.83         83603605816.42  91531433246.36 
3           4501.52         4976.52         84157817962.92  93037962787.86 
4           4481.25         4955.13         70660420363.18  78132509824.90 
5           4506.27         5017.03         69598653692.12  77487270820.80 
6           4487.10         5263.09         78849876383.14  92485978451.44 
7           4480.55         4725.51         77075278088.26  81289117007.37 
8           4500.54         4898.26         79001842301.71  85983328363.66 
9           4508.52         5056.46         78655627222.94  88215027610.30 
10          4518.18         4934.04         81935710769.84  89477117315.13 
11          4512.10         4846.61         81701543083.81  87758487179.40 
12          4496.61         4905.97         77354913969.64  84397069733.16 
13          4506.92         4967.01         74066058944.76  81627052771.36 
14          4482.32         4748.57         80978762526.42  85788910922.73 
15          4515.02         4993.59         73466872175.01  81253978684.79 
16          4511.16         5125.84         75324113973.83  85587620982.90 
17          4471.53         5194.81         76712255703.01  89120736244.02 
18          4468.37         5153.13         80032519501.53  92297274686.32 
19          4490.91         4865.91         75466160926.82  81767784036.93 
20          4494.50         5210.90         78555417820.06  91076766492.73 
21          4497.21         5087.25         79079595482.76  89454975198.84 
22          4529.54         4945.33         80845288221.60  88266586724.51 
23          4489.35         4974.00         76344790639.43  84586573926.78 
24          4516.77         5065.90         80452749791.40  90233921611.59 
2021-12-16 18:57:27,489 - __main__ - INFO - relative error:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           0.00            0.08            0.00            0.08           
1           0.02            0.01            0.02            0.01           
2           0.00            0.14            0.00            0.14           
3           0.01            0.01            0.01            0.01           
4           0.00            0.01            0.00            0.01           
5           0.00            0.13            0.00            0.13           
6           0.00            0.06            0.00            0.06           
7           0.00            0.10            0.00            0.10           
8           0.00            0.05            0.00            0.05           
9           0.00            0.03            0.00            0.03           
10          0.01            0.17            0.01            0.17           
11          0.00            0.01            0.00            0.01           
12          0.01            0.08            0.01            0.08           
13          0.00            0.04            0.00            0.04           
14          0.00            0.06            0.00            0.06           
15          0.01            0.06            0.01            0.06           
16          0.00            0.02            0.00            0.02           
17          0.01            0.03            0.01            0.03           
18          0.01            0.07            0.01            0.07           
19          0.01            0.00            0.01            0.00           
20          0.01            0.00            0.01            0.00           
21          0.01            0.14            0.01            0.14           
22          0.00            0.08            0.00            0.08           
23          0.01            0.07            0.01            0.07           
24          0.01            0.08            0.01            0.08           
2021-12-16 18:57:27,489 - __main__ - INFO - relative error average :0.0334613462680122
2021-12-16 18:57:27,490 - __main__ - INFO - relative error normalized average :0.03204086517329003
2021-12-16 18:57:27,490 - __main__ - INFO - relative error var normalized average :0.007794647337993811
2021-12-16 18:57:27,490 - __main__ - INFO - total_time:6.595571652986109
