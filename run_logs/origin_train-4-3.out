main.py:20: FutureWarning: Passing a negative integer is deprecated in version 1.0 and will not be supported in future version. Instead, use None to not limit the column width.
  pd.set_option('max_colwidth', -1)
2021-12-16 18:55:00,019 - __main__ - INFO - load query config config/query/customer_with_inc_join_supplier.json successfully
2021-12-16 18:55:00,019 - __main__ - INFO - load train config ./config/train/tpch_customer_with_inc_torch_cvae.json successfully
2021-12-16 18:55:00,020 - __main__ - INFO - load train config ./config/train/tpch_supplier_torch_cvae.json successfully
2021-12-16 18:55:00,020 - utils.dataset_utils - INFO - load existing dataset(light):tpch-1m-customer-with-inc_c_nationkey_c_acctbal_c_nationkey_binary_gaussian5_0
2021-12-16 18:55:00,075 - utils.dataset_utils - INFO - load dataset(light) time elapsed:0.05499222129583359
2021-12-16 18:55:00,075 - models.pytorch_cvae - INFO - feature info:[('c_acctbal', 'numerical', 6), ('c_nationkey', 'categorical', 6)]
2021-12-16 18:55:00,077 - utils.model_utils - INFO - load model name:torch_cvae_tpch-1m-customer-with-inc_c_nationkey_ld50_id100_bs1024_ep100_0_binary_gaussian5
2021-12-16 18:55:02,143 - utils.model_utils - INFO - load torch model time elapsed:2.06523456890136
2021-12-16 18:55:02,143 - models.pytorch_cvae - INFO - load model time elapsed:2.123184360563755
2021-12-16 18:55:02,143 - utils.dataset_utils - INFO - load existing dataset(light):tpch-1m-supplier_s_nationkey#s_suppkey_s_acctbal_s_nationkey_binary_gaussian5_0
2021-12-16 18:55:02,146 - utils.dataset_utils - INFO - load dataset(light) time elapsed:0.0034644659608602524
2021-12-16 18:55:02,146 - models.pytorch_cvae - INFO - feature info:[('s_acctbal', 'numerical', 6), ('s_nationkey', 'categorical', 6), ('s_suppkey', 'categorical', 15)]
2021-12-16 18:55:02,147 - utils.model_utils - INFO - load model name:torch_cvae_tpch-1m-supplier_s_nationkey_ld50_id100_bs32_ep150_0_binary_gaussian5
2021-12-16 18:55:02,148 - utils.model_utils - INFO - load torch model time elapsed:0.0013845553621649742
2021-12-16 18:55:02,148 - models.pytorch_cvae - INFO - load model time elapsed:0.0055835554376244545
2021-12-16 18:55:02,148 - __main__ - INFO - multi_sampling No.0 epoch
2021-12-16 18:55:02,149 - models.pytorch_cvae - INFO - statistics sampling rate:0.04
2021-12-16 18:55:02,149 - __main__ - INFO - multi_sampling No.1 epoch
2021-12-16 18:55:02,154 - models.pytorch_cvae - INFO - statistics sampling rate:0.04
2021-12-16 18:55:02,155 - __main__ - INFO - multi_sampling No.2 epoch
2021-12-16 18:55:02,156 - models.pytorch_cvae - INFO - statistics sampling rate:0.04
2021-12-16 18:55:03,235 - models.pytorch_cvae - INFO - sampling time:1.0785704459995031
2021-12-16 18:55:03,242 - models.pytorch_cvae - INFO - sampling time:1.092538041062653
2021-12-16 18:55:03,347 - models.pytorch_cvae - INFO - sampling time:1.191695916466415
2021-12-16 18:55:03,717 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:55:03,744 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:55:03,779 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:55:03,853 - models.pytorch_cvae - INFO - sampling time:0.07329395413398743
2021-12-16 18:55:03,903 - models.pytorch_cvae - INFO - sampling time:0.159068763256073
2021-12-16 18:55:04,046 - models.pytorch_cvae - INFO - sampling time:0.32696780003607273
2021-12-16 18:55:04,058 - __main__ - INFO - sample and aggregation time elapsed:1.9039158821105957
2021-12-16 18:55:04,203 - __main__ - INFO - sample and aggregation time elapsed:2.0475198747590184
2021-12-16 18:55:04,223 - __main__ - INFO - sample and aggregation time elapsed:2.074185958132148
2021-12-16 18:55:04,228 - __main__ - INFO - sample time:2.079144743271172
2021-12-16 18:55:04,241 - __main__ - INFO - aqp result:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           4521.08         4853.08         75240971905.33  80766168732.57 
1           4531.81         5529.89         78916510721.75  96297103749.08 
2           4515.98         4974.20         83898463859.15  92411459158.92 
3           4558.60         4958.50         85224832325.39  92701225878.00 
4           4505.87         4941.37         71048579978.67  77915600379.37 
5           4531.71         5022.44         69991596872.02  77570855957.29 
6           4486.32         5079.83         78836075317.76  89265562116.78 
7           4465.80         4963.98         76821403791.03  85391230862.70 
8           4490.69         4975.21         78828975223.91  87334125099.98 
9           4542.38         4884.45         79246439716.31  85214123881.84 
10          4559.05         5104.90         82676803357.14  92575566664.63 
11          4452.74         4998.39         80626665331.13  90506916038.02 
12          4485.22         5227.27         77158962013.44  89924451295.47 
13          4559.49         5064.83         74929858085.00  83234514556.11 
14          4495.45         5041.55         81216054497.52  91081890021.29 
15          4500.78         4118.09         73235181861.36  67008104099.55 
16          4391.03         5187.88         73318193247.37  86623451863.59 
17          4443.47         5095.50         76230958252.02  87416892861.61 
18          4462.25         4883.96         79923002617.89  87476225664.74 
19          4384.49         5045.19         73677910665.90  84780376855.14 
20          4505.51         5163.08         78747925180.94  90240926279.09 
21          4434.11         5191.80         77970135546.20  91293462709.46 
22          4455.89         5367.35         79530851543.26  95798941439.89 
23          4495.39         5136.15         76447461629.02  87344126388.81 
24          4411.30         4896.37         78574081554.60  87214184580.65 
2021-12-16 18:55:04,244 - __main__ - INFO - ground truth:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           4495.08         4750.47         74808300307.97  79058543738.51 
1           4481.35         5156.38         78037804737.42  89792862870.19 
2           4500.11         4926.83         83603605816.42  91531433246.36 
3           4501.52         4976.52         84157817962.92  93037962787.86 
4           4481.25         4955.13         70660420363.18  78132509824.90 
5           4506.27         5017.03         69598653692.12  77487270820.80 
6           4487.10         5263.09         78849876383.14  92485978451.44 
7           4480.55         4725.51         77075278088.26  81289117007.37 
8           4500.54         4898.26         79001842301.71  85983328363.66 
9           4508.52         5056.46         78655627222.94  88215027610.30 
10          4518.18         4934.04         81935710769.84  89477117315.13 
11          4512.10         4846.61         81701543083.81  87758487179.40 
12          4496.61         4905.97         77354913969.64  84397069733.16 
13          4506.92         4967.01         74066058944.76  81627052771.36 
14          4482.32         4748.57         80978762526.42  85788910922.73 
15          4515.02         4993.59         73466872175.01  81253978684.79 
16          4511.16         5125.84         75324113973.83  85587620982.90 
17          4471.53         5194.81         76712255703.01  89120736244.02 
18          4468.37         5153.13         80032519501.53  92297274686.32 
19          4490.91         4865.91         75466160926.82  81767784036.93 
20          4494.50         5210.90         78555417820.06  91076766492.73 
21          4497.21         5087.25         79079595482.76  89454975198.84 
22          4529.54         4945.33         80845288221.60  88266586724.51 
23          4489.35         4974.00         76344790639.43  84586573926.78 
24          4516.77         5065.90         80452749791.40  90233921611.59 
2021-12-16 18:55:04,255 - __main__ - INFO - relative error:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           0.01            0.02            0.01            0.02           
1           0.01            0.07            0.01            0.07           
2           0.00            0.01            0.00            0.01           
3           0.01            0.00            0.01            0.00           
4           0.01            0.00            0.01            0.00           
5           0.01            0.00            0.01            0.00           
6           0.00            0.03            0.00            0.03           
7           0.00            0.05            0.00            0.05           
8           0.00            0.02            0.00            0.02           
9           0.01            0.03            0.01            0.03           
10          0.01            0.03            0.01            0.03           
11          0.01            0.03            0.01            0.03           
12          0.00            0.07            0.00            0.07           
13          0.01            0.02            0.01            0.02           
14          0.00            0.06            0.00            0.06           
15          0.00            0.18            0.00            0.18           
16          0.03            0.01            0.03            0.01           
17          0.01            0.02            0.01            0.02           
18          0.00            0.05            0.00            0.05           
19          0.02            0.04            0.02            0.04           
20          0.00            0.01            0.00            0.01           
21          0.01            0.02            0.01            0.02           
22          0.02            0.09            0.02            0.09           
23          0.00            0.03            0.00            0.03           
24          0.02            0.03            0.02            0.03           
2021-12-16 18:55:04,256 - __main__ - INFO - relative error average :0.023023248768439628
2021-12-16 18:55:04,256 - __main__ - INFO - relative error normalized average :0.022345833805208937
2021-12-16 18:55:04,256 - __main__ - INFO - relative error var normalized average :0.003646309251248949
2021-12-16 18:55:04,256 - __main__ - INFO - total_time:4.237100003287196
