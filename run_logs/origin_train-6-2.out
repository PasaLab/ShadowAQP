main.py:20: FutureWarning: Passing a negative integer is deprecated in version 1.0 and will not be supported in future version. Instead, use None to not limit the column width.
  pd.set_option('max_colwidth', -1)
2021-12-16 18:55:38,404 - __main__ - INFO - load query config config/query/customer_with_inc_join_supplier.json successfully
2021-12-16 18:55:38,404 - __main__ - INFO - load train config ./config/train/tpch_customer_with_inc_torch_cvae.json successfully
2021-12-16 18:55:38,404 - __main__ - INFO - load train config ./config/train/tpch_supplier_torch_cvae.json successfully
2021-12-16 18:55:38,404 - utils.dataset_utils - INFO - load existing dataset(light):tpch-1m-customer-with-inc_c_nationkey_c_acctbal_c_nationkey_binary_gaussian5_0
2021-12-16 18:55:38,447 - utils.dataset_utils - INFO - load dataset(light) time elapsed:0.04248558636754751
2021-12-16 18:55:38,447 - models.pytorch_cvae - INFO - feature info:[('c_acctbal', 'numerical', 6), ('c_nationkey', 'categorical', 6)]
2021-12-16 18:55:38,448 - utils.model_utils - INFO - load model name:torch_cvae_tpch-1m-customer-with-inc_c_nationkey_ld50_id100_bs1024_ep100_0_binary_gaussian5
2021-12-16 18:55:40,502 - utils.model_utils - INFO - load torch model time elapsed:2.054418328218162
2021-12-16 18:55:40,502 - models.pytorch_cvae - INFO - load model time elapsed:2.0983543656766415
2021-12-16 18:55:40,502 - utils.dataset_utils - INFO - load existing dataset(light):tpch-1m-supplier_s_nationkey#s_suppkey_s_acctbal_s_nationkey_binary_gaussian5_0
2021-12-16 18:55:40,506 - utils.dataset_utils - INFO - load dataset(light) time elapsed:0.003316340036690235
2021-12-16 18:55:40,506 - models.pytorch_cvae - INFO - feature info:[('s_acctbal', 'numerical', 6), ('s_nationkey', 'categorical', 6), ('s_suppkey', 'categorical', 15)]
2021-12-16 18:55:40,506 - utils.model_utils - INFO - load model name:torch_cvae_tpch-1m-supplier_s_nationkey_ld50_id100_bs32_ep150_0_binary_gaussian5
2021-12-16 18:55:40,508 - utils.model_utils - INFO - load torch model time elapsed:0.001339765265583992
2021-12-16 18:55:40,508 - models.pytorch_cvae - INFO - load model time elapsed:0.005379544571042061
2021-12-16 18:55:40,508 - __main__ - INFO - multi_sampling No.0 epoch
2021-12-16 18:55:40,508 - models.pytorch_cvae - INFO - statistics sampling rate:0.06
2021-12-16 18:55:40,508 - __main__ - INFO - multi_sampling No.1 epoch
2021-12-16 18:55:40,514 - models.pytorch_cvae - INFO - statistics sampling rate:0.06
2021-12-16 18:55:40,514 - __main__ - INFO - multi_sampling No.2 epoch
2021-12-16 18:55:40,515 - models.pytorch_cvae - INFO - statistics sampling rate:0.06
2021-12-16 18:55:41,675 - models.pytorch_cvae - INFO - sampling time:1.16666878759861
2021-12-16 18:55:41,705 - models.pytorch_cvae - INFO - sampling time:1.1905283741652966
2021-12-16 18:55:42,096 - models.pytorch_cvae - INFO - sampling time:1.580186323262751
2021-12-16 18:55:42,400 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:55:42,475 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:55:42,581 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:55:42,665 - models.pytorch_cvae - INFO - sampling time:0.0838720602914691
2021-12-16 18:55:42,827 - models.pytorch_cvae - INFO - sampling time:0.42534714099019766
2021-12-16 18:55:42,856 - models.pytorch_cvae - INFO - sampling time:0.3807294676080346
2021-12-16 18:55:42,901 - __main__ - INFO - sample and aggregation time elapsed:2.3857454024255276
2021-12-16 18:55:43,099 - __main__ - INFO - sample and aggregation time elapsed:2.585496349260211
2021-12-16 18:55:43,117 - __main__ - INFO - sample and aggregation time elapsed:2.609085734002292
2021-12-16 18:55:43,122 - __main__ - INFO - sample time:2.614000929519534
2021-12-16 18:55:43,135 - __main__ - INFO - aqp result:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           4501.42         5167.86         74913777572.85  86004842401.58 
1           4496.23         4708.95         78296977762.11  82001234363.59 
2           4515.22         4820.26         83884358190.33  89551521686.66 
3           4520.63         4809.91         84515090029.42  89923167835.20 
4           4503.43         5091.14         71010080747.18  80277046361.38 
5           4552.03         5055.09         70305512722.91  78075187904.25 
6           4509.75         5313.17         79247801354.42  93365976055.54 
7           4570.30         5197.10         78619164025.67  89401459764.75 
8           4455.50         5183.43         78211199410.13  90989196733.63 
9           4517.02         5327.42         78803953200.06  92942261110.04 
10          4444.81         4746.30         80605114042.91  86072516970.86 
11          4528.87         4911.67         82005105867.43  88936540737.68 
12          4475.74         4629.50         76995945238.04  79640951432.93 
13          4529.00         4964.72         74428901564.88  81589441441.16 
14          4454.76         5145.91         80480803355.41  92967445736.78 
15          4488.78         4500.73         73039903102.67  73234407181.53 
16          4511.99         5602.69         75337988577.31  93549683012.38 
17          4416.51         5056.74         75768308251.19  86752038642.64 
18          4488.66         4794.68         80396090017.74  85877015204.58 
19          4555.24         4676.58         76547213204.70  78586245125.03 
20          4504.93         4772.54         78737744525.52  83415020815.13 
21          4433.81         5154.50         77964849403.15  90637626030.66 
22          4522.61         4784.82         80721773296.00  85401657572.69 
23          4480.52         5618.25         76194554317.49  95542546410.00 
24          4476.09         4941.74         79728108852.35  88022394693.28 
2021-12-16 18:55:43,138 - __main__ - INFO - ground truth:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           4495.08         4750.47         74808300307.97  79058543738.51 
1           4481.35         5156.38         78037804737.42  89792862870.19 
2           4500.11         4926.83         83603605816.42  91531433246.36 
3           4501.52         4976.52         84157817962.92  93037962787.86 
4           4481.25         4955.13         70660420363.18  78132509824.90 
5           4506.27         5017.03         69598653692.12  77487270820.80 
6           4487.10         5263.09         78849876383.14  92485978451.44 
7           4480.55         4725.51         77075278088.26  81289117007.37 
8           4500.54         4898.26         79001842301.71  85983328363.66 
9           4508.52         5056.46         78655627222.94  88215027610.30 
10          4518.18         4934.04         81935710769.84  89477117315.13 
11          4512.10         4846.61         81701543083.81  87758487179.40 
12          4496.61         4905.97         77354913969.64  84397069733.16 
13          4506.92         4967.01         74066058944.76  81627052771.36 
14          4482.32         4748.57         80978762526.42  85788910922.73 
15          4515.02         4993.59         73466872175.01  81253978684.79 
16          4511.16         5125.84         75324113973.83  85587620982.90 
17          4471.53         5194.81         76712255703.01  89120736244.02 
18          4468.37         5153.13         80032519501.53  92297274686.32 
19          4490.91         4865.91         75466160926.82  81767784036.93 
20          4494.50         5210.90         78555417820.06  91076766492.73 
21          4497.21         5087.25         79079595482.76  89454975198.84 
22          4529.54         4945.33         80845288221.60  88266586724.51 
23          4489.35         4974.00         76344790639.43  84586573926.78 
24          4516.77         5065.90         80452749791.40  90233921611.59 
2021-12-16 18:55:43,149 - __main__ - INFO - relative error:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           0.00            0.09            0.00            0.09           
1           0.00            0.09            0.00            0.09           
2           0.00            0.02            0.00            0.02           
3           0.00            0.03            0.00            0.03           
4           0.00            0.03            0.00            0.03           
5           0.01            0.01            0.01            0.01           
6           0.01            0.01            0.01            0.01           
7           0.02            0.10            0.02            0.10           
8           0.01            0.06            0.01            0.06           
9           0.00            0.05            0.00            0.05           
10          0.02            0.04            0.02            0.04           
11          0.00            0.01            0.00            0.01           
12          0.00            0.06            0.00            0.06           
13          0.00            0.00            0.00            0.00           
14          0.01            0.08            0.01            0.08           
15          0.01            0.10            0.01            0.10           
16          0.00            0.09            0.00            0.09           
17          0.01            0.03            0.01            0.03           
18          0.00            0.07            0.00            0.07           
19          0.01            0.04            0.01            0.04           
20          0.00            0.08            0.00            0.08           
21          0.01            0.01            0.01            0.01           
22          0.00            0.03            0.00            0.03           
23          0.00            0.13            0.00            0.13           
24          0.01            0.02            0.01            0.02           
2021-12-16 18:55:43,149 - __main__ - INFO - relative error average :0.02909231927023283
2021-12-16 18:55:43,149 - __main__ - INFO - relative error normalized average :0.02813362352088518
2021-12-16 18:55:43,149 - __main__ - INFO - relative error var normalized average :0.0051773944568254
2021-12-16 18:55:43,150 - __main__ - INFO - total_time:4.7461010832339525
