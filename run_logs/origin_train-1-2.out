main.py:20: FutureWarning: Passing a negative integer is deprecated in version 1.0 and will not be supported in future version. Instead, use None to not limit the column width.
  pd.set_option('max_colwidth', -1)
2021-12-16 18:53:51,657 - __main__ - INFO - load query config config/query/customer_with_inc_join_supplier.json successfully
2021-12-16 18:53:51,657 - __main__ - INFO - load train config ./config/train/tpch_customer_with_inc_torch_cvae.json successfully
2021-12-16 18:53:51,657 - __main__ - INFO - load train config ./config/train/tpch_supplier_torch_cvae.json successfully
2021-12-16 18:53:51,658 - utils.dataset_utils - INFO - load existing dataset(light):tpch-1m-customer-with-inc_c_nationkey_c_acctbal_c_nationkey_binary_gaussian5_0
2021-12-16 18:53:51,709 - utils.dataset_utils - INFO - load dataset(light) time elapsed:0.05122285149991512
2021-12-16 18:53:51,709 - models.pytorch_cvae - INFO - feature info:[('c_acctbal', 'numerical', 6), ('c_nationkey', 'categorical', 6)]
2021-12-16 18:53:51,710 - utils.model_utils - INFO - load model name:torch_cvae_tpch-1m-customer-with-inc_c_nationkey_ld50_id100_bs1024_ep100_0_binary_gaussian5
2021-12-16 18:53:53,771 - utils.model_utils - INFO - load torch model time elapsed:2.061262123286724
2021-12-16 18:53:53,772 - models.pytorch_cvae - INFO - load model time elapsed:2.1139856725931168
2021-12-16 18:53:53,772 - utils.dataset_utils - INFO - load existing dataset(light):tpch-1m-supplier_s_nationkey#s_suppkey_s_acctbal_s_nationkey_binary_gaussian5_0
2021-12-16 18:53:53,774 - utils.dataset_utils - INFO - load dataset(light) time elapsed:0.0027121631428599358
2021-12-16 18:53:53,774 - models.pytorch_cvae - INFO - feature info:[('s_acctbal', 'numerical', 6), ('s_nationkey', 'categorical', 6), ('s_suppkey', 'categorical', 15)]
2021-12-16 18:53:53,775 - utils.model_utils - INFO - load model name:torch_cvae_tpch-1m-supplier_s_nationkey_ld50_id100_bs32_ep150_0_binary_gaussian5
2021-12-16 18:53:53,776 - utils.model_utils - INFO - load torch model time elapsed:0.0013511888682842255
2021-12-16 18:53:53,776 - models.pytorch_cvae - INFO - load model time elapsed:0.0047829654067754745
2021-12-16 18:53:53,776 - __main__ - INFO - multi_sampling No.0 epoch
2021-12-16 18:53:53,777 - models.pytorch_cvae - INFO - statistics sampling rate:0.01
2021-12-16 18:53:53,777 - __main__ - INFO - multi_sampling No.1 epoch
2021-12-16 18:53:53,783 - models.pytorch_cvae - INFO - statistics sampling rate:0.01
2021-12-16 18:53:53,784 - __main__ - INFO - multi_sampling No.2 epoch
2021-12-16 18:53:53,785 - models.pytorch_cvae - INFO - statistics sampling rate:0.01
2021-12-16 18:53:54,341 - models.pytorch_cvae - INFO - sampling time:0.5562342936173081
2021-12-16 18:53:54,369 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:53:54,461 - models.pytorch_cvae - INFO - sampling time:0.6834831545129418
2021-12-16 18:53:54,508 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:53:54,513 - models.pytorch_cvae - INFO - sampling time:0.728964596055448
2021-12-16 18:53:54,555 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:53:54,634 - models.pytorch_cvae - INFO - sampling time:0.2650984460487962
2021-12-16 18:53:54,716 - __main__ - INFO - sample and aggregation time elapsed:0.9314516047015786
2021-12-16 18:53:54,719 - models.pytorch_cvae - INFO - sampling time:0.16304088663309813
2021-12-16 18:53:54,798 - __main__ - INFO - sample and aggregation time elapsed:1.0156387845054269
2021-12-16 18:53:54,800 - models.pytorch_cvae - INFO - sampling time:0.2918072221800685
2021-12-16 18:53:54,856 - __main__ - INFO - sample and aggregation time elapsed:1.0792200155556202
2021-12-16 18:53:54,861 - __main__ - INFO - sample time:1.0841647954657674
2021-12-16 18:53:54,874 - __main__ - INFO - aqp result:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           4567.12         4688.82         76007159965.18  78032508826.21 
1           4523.77         5142.95         78776534332.10  89558955758.85 
2           4490.23         4889.79         83420160753.06  90843221071.57 
3           4428.52         4762.41         82793019817.49  89035172949.00 
4           4630.94         4499.23         73020745362.71  70943917287.33 
5           4391.96         4614.69         67833200776.17  71273195478.39 
6           4408.52         4658.48         77469065348.06  81861373253.01 
7           4526.05         4838.75         77857941548.49  83237015661.00 
8           4416.63         4962.78         77528787790.70  87115927852.28 
9           4523.43         4884.90         78915753757.48  85222052555.77 
10          4500.13         5050.52         81608403208.80  91589510055.93 
11          4451.07         4777.47         80596497044.17  86506638255.95 
12          4605.11         4938.58         79221457152.81  84957998852.27 
13          4536.75         5093.22         74556161684.85  83701103761.60 
14          4445.78         4967.99         80318717532.20  89753034934.56 
15          4383.51         4776.53         71327026888.54  77722079054.54 
16          4462.92         5286.51         74518691939.47  88270388660.44 
17          4630.21         4727.11         79434539376.54  81096923762.07 
18          4507.83         5235.97         80739355401.97  93781004948.66 
19          4643.98         4967.20         78038326611.31  83469801004.47 
20          4562.27         5141.69         79739959014.25  89867074094.72 
21          4429.98         5052.52         77897443503.56  88844312550.16 
22          4372.63         5268.66         78044772200.27  94037462908.70 
23          4517.48         4899.33         76823225893.88  83316791294.97 
24          4584.08         5077.18         81651691676.59  90434723341.95 
2021-12-16 18:53:54,877 - __main__ - INFO - ground truth:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           4495.08         4750.47         74808300307.97  79058543738.51 
1           4481.35         5156.38         78037804737.42  89792862870.19 
2           4500.11         4926.83         83603605816.42  91531433246.36 
3           4501.52         4976.52         84157817962.92  93037962787.86 
4           4481.25         4955.13         70660420363.18  78132509824.90 
5           4506.27         5017.03         69598653692.12  77487270820.80 
6           4487.10         5263.09         78849876383.14  92485978451.44 
7           4480.55         4725.51         77075278088.26  81289117007.37 
8           4500.54         4898.26         79001842301.71  85983328363.66 
9           4508.52         5056.46         78655627222.94  88215027610.30 
10          4518.18         4934.04         81935710769.84  89477117315.13 
11          4512.10         4846.61         81701543083.81  87758487179.40 
12          4496.61         4905.97         77354913969.64  84397069733.16 
13          4506.92         4967.01         74066058944.76  81627052771.36 
14          4482.32         4748.57         80978762526.42  85788910922.73 
15          4515.02         4993.59         73466872175.01  81253978684.79 
16          4511.16         5125.84         75324113973.83  85587620982.90 
17          4471.53         5194.81         76712255703.01  89120736244.02 
18          4468.37         5153.13         80032519501.53  92297274686.32 
19          4490.91         4865.91         75466160926.82  81767784036.93 
20          4494.50         5210.90         78555417820.06  91076766492.73 
21          4497.21         5087.25         79079595482.76  89454975198.84 
22          4529.54         4945.33         80845288221.60  88266586724.51 
23          4489.35         4974.00         76344790639.43  84586573926.78 
24          4516.77         5065.90         80452749791.40  90233921611.59 
2021-12-16 18:53:54,889 - __main__ - INFO - relative error:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           0.02            0.01            0.02            0.01           
1           0.01            0.00            0.01            0.00           
2           0.00            0.01            0.00            0.01           
3           0.02            0.04            0.02            0.04           
4           0.03            0.09            0.03            0.09           
5           0.03            0.08            0.03            0.08           
6           0.02            0.11            0.02            0.11           
7           0.01            0.02            0.01            0.02           
8           0.02            0.01            0.02            0.01           
9           0.00            0.03            0.00            0.03           
10          0.00            0.02            0.00            0.02           
11          0.01            0.01            0.01            0.01           
12          0.02            0.01            0.02            0.01           
13          0.01            0.03            0.01            0.03           
14          0.01            0.05            0.01            0.05           
15          0.03            0.04            0.03            0.04           
16          0.01            0.03            0.01            0.03           
17          0.04            0.09            0.04            0.09           
18          0.01            0.02            0.01            0.02           
19          0.03            0.02            0.03            0.02           
20          0.02            0.01            0.02            0.01           
21          0.01            0.01            0.01            0.01           
22          0.03            0.07            0.03            0.07           
23          0.01            0.02            0.01            0.02           
24          0.01            0.00            0.01            0.00           
2021-12-16 18:53:54,889 - __main__ - INFO - relative error average :0.02515268614527043
2021-12-16 18:53:54,889 - __main__ - INFO - relative error normalized average :0.024552635977871363
2021-12-16 18:53:54,889 - __main__ - INFO - relative error var normalized average :0.0032079236220542515
2021-12-16 18:53:54,890 - __main__ - INFO - total_time:3.232526800595224
