main.py:20: FutureWarning: Passing a negative integer is deprecated in version 1.0 and will not be supported in future version. Instead, use None to not limit the column width.
  pd.set_option('max_colwidth', -1)
2021-12-16 18:54:10,739 - __main__ - INFO - load query config config/query/customer_with_inc_join_supplier.json successfully
2021-12-16 18:54:10,739 - __main__ - INFO - load train config ./config/train/tpch_customer_with_inc_torch_cvae.json successfully
2021-12-16 18:54:10,740 - __main__ - INFO - load train config ./config/train/tpch_supplier_torch_cvae.json successfully
2021-12-16 18:54:10,740 - utils.dataset_utils - INFO - load existing dataset(light):tpch-1m-customer-with-inc_c_nationkey_c_acctbal_c_nationkey_binary_gaussian5_0
2021-12-16 18:54:10,792 - utils.dataset_utils - INFO - load dataset(light) time elapsed:0.05201069265604019
2021-12-16 18:54:10,792 - models.pytorch_cvae - INFO - feature info:[('c_acctbal', 'numerical', 6), ('c_nationkey', 'categorical', 6)]
2021-12-16 18:54:10,793 - utils.model_utils - INFO - load model name:torch_cvae_tpch-1m-customer-with-inc_c_nationkey_ld50_id100_bs1024_ep100_0_binary_gaussian5
2021-12-16 18:54:12,853 - utils.model_utils - INFO - load torch model time elapsed:2.060264913365245
2021-12-16 18:54:12,853 - models.pytorch_cvae - INFO - load model time elapsed:2.113793474622071
2021-12-16 18:54:12,853 - utils.dataset_utils - INFO - load existing dataset(light):tpch-1m-supplier_s_nationkey#s_suppkey_s_acctbal_s_nationkey_binary_gaussian5_0
2021-12-16 18:54:12,857 - utils.dataset_utils - INFO - load dataset(light) time elapsed:0.0034572118893265724
2021-12-16 18:54:12,857 - models.pytorch_cvae - INFO - feature info:[('s_acctbal', 'numerical', 6), ('s_nationkey', 'categorical', 6), ('s_suppkey', 'categorical', 15)]
2021-12-16 18:54:12,858 - utils.model_utils - INFO - load model name:torch_cvae_tpch-1m-supplier_s_nationkey_ld50_id100_bs32_ep150_0_binary_gaussian5
2021-12-16 18:54:12,859 - utils.model_utils - INFO - load torch model time elapsed:0.0013742512091994286
2021-12-16 18:54:12,859 - models.pytorch_cvae - INFO - load model time elapsed:0.005559194833040237
2021-12-16 18:54:12,859 - __main__ - INFO - multi_sampling No.0 epoch
2021-12-16 18:54:12,859 - models.pytorch_cvae - INFO - statistics sampling rate:0.02
2021-12-16 18:54:12,860 - __main__ - INFO - multi_sampling No.1 epoch
2021-12-16 18:54:12,865 - models.pytorch_cvae - INFO - statistics sampling rate:0.02
2021-12-16 18:54:12,865 - __main__ - INFO - multi_sampling No.2 epoch
2021-12-16 18:54:12,866 - models.pytorch_cvae - INFO - statistics sampling rate:0.02
2021-12-16 18:54:13,772 - models.pytorch_cvae - INFO - sampling time:0.9120031641796231
2021-12-16 18:54:13,775 - models.pytorch_cvae - INFO - sampling time:0.908122624270618
2021-12-16 18:54:13,776 - models.pytorch_cvae - INFO - sampling time:0.9106477042660117
2021-12-16 18:54:14,058 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:54:14,086 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:54:14,118 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:54:14,217 - models.pytorch_cvae - INFO - sampling time:0.09889117442071438
2021-12-16 18:54:14,388 - models.pytorch_cvae - INFO - sampling time:0.30181369464844465
2021-12-16 18:54:14,392 - models.pytorch_cvae - INFO - sampling time:0.33208178635686636
2021-12-16 18:54:14,435 - __main__ - INFO - sample and aggregation time elapsed:1.5686256913468242
2021-12-16 18:54:14,543 - __main__ - INFO - sample and aggregation time elapsed:1.6834076549857855
2021-12-16 18:54:14,551 - __main__ - INFO - sample and aggregation time elapsed:1.6859401911497116
2021-12-16 18:54:14,556 - __main__ - INFO - sample time:1.6965304538607597
2021-12-16 18:54:14,570 - __main__ - INFO - aqp result:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           4478.06         4844.96         74524979845.10  80631025942.44 
1           4542.05         5137.12         79094884874.23  89457412648.77 
2           4551.05         5236.34         84550144348.49  97281414738.74 
3           4477.20         4846.15         83703010829.28  90600699769.85 
4           4577.90         4637.21         72184274383.85  73119514091.33 
5           4572.50         4793.74         70621677553.80  74038679981.02 
6           4525.26         5099.04         79520391732.24  89603107812.17 
7           4464.48         4844.07         76798782660.75  83328478285.34 
8           4533.79         4988.15         79585464015.62  87561226931.89 
9           4467.93         5341.87         77947465362.25  93194219783.47 
10          4419.68         4943.77         80149394987.06  89653671254.94 
11          4555.80         5048.75         82492712675.92  91418739414.13 
12          4471.40         4615.84         76921171359.57  79406032304.15 
13          4489.21         4441.30         73774880301.28  72987654147.66 
14          4466.09         4583.95         80685541256.17  82814901397.14 
15          4515.45         4428.19         73473911986.89  72053955605.37 
16          4420.18         5469.46         73805027363.97  91325059543.28 
17          4535.02         5167.31         77801496030.63  88648868750.38 
18          4507.50         4937.99         80733497579.73  88443883564.61 
19          4440.29         4623.89         74615446793.69  77700836994.10 
20          4442.04         5011.07         77638487893.75  87584145807.38 
21          4381.56         5081.46         77046077221.83  89353154218.86 
22          4460.00         4927.74         79604274951.24  87952604118.53 
23          4435.52         4882.99         75429447559.30  83038975912.12 
24          4520.91         5037.17         80526449250.18  89722078976.37 
2021-12-16 18:54:14,573 - __main__ - INFO - ground truth:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           4495.08         4750.47         74808300307.97  79058543738.51 
1           4481.35         5156.38         78037804737.42  89792862870.19 
2           4500.11         4926.83         83603605816.42  91531433246.36 
3           4501.52         4976.52         84157817962.92  93037962787.86 
4           4481.25         4955.13         70660420363.18  78132509824.90 
5           4506.27         5017.03         69598653692.12  77487270820.80 
6           4487.10         5263.09         78849876383.14  92485978451.44 
7           4480.55         4725.51         77075278088.26  81289117007.37 
8           4500.54         4898.26         79001842301.71  85983328363.66 
9           4508.52         5056.46         78655627222.94  88215027610.30 
10          4518.18         4934.04         81935710769.84  89477117315.13 
11          4512.10         4846.61         81701543083.81  87758487179.40 
12          4496.61         4905.97         77354913969.64  84397069733.16 
13          4506.92         4967.01         74066058944.76  81627052771.36 
14          4482.32         4748.57         80978762526.42  85788910922.73 
15          4515.02         4993.59         73466872175.01  81253978684.79 
16          4511.16         5125.84         75324113973.83  85587620982.90 
17          4471.53         5194.81         76712255703.01  89120736244.02 
18          4468.37         5153.13         80032519501.53  92297274686.32 
19          4490.91         4865.91         75466160926.82  81767784036.93 
20          4494.50         5210.90         78555417820.06  91076766492.73 
21          4497.21         5087.25         79079595482.76  89454975198.84 
22          4529.54         4945.33         80845288221.60  88266586724.51 
23          4489.35         4974.00         76344790639.43  84586573926.78 
24          4516.77         5065.90         80452749791.40  90233921611.59 
2021-12-16 18:54:14,584 - __main__ - INFO - relative error:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           0.00            0.02            0.00            0.02           
1           0.01            0.00            0.01            0.00           
2           0.01            0.06            0.01            0.06           
3           0.01            0.03            0.01            0.03           
4           0.02            0.06            0.02            0.06           
5           0.01            0.04            0.01            0.04           
6           0.01            0.03            0.01            0.03           
7           0.00            0.03            0.00            0.03           
8           0.01            0.02            0.01            0.02           
9           0.01            0.06            0.01            0.06           
10          0.02            0.00            0.02            0.00           
11          0.01            0.04            0.01            0.04           
12          0.01            0.06            0.01            0.06           
13          0.00            0.11            0.00            0.11           
14          0.00            0.03            0.00            0.03           
15          0.00            0.11            0.00            0.11           
16          0.02            0.07            0.02            0.07           
17          0.01            0.01            0.01            0.01           
18          0.01            0.04            0.01            0.04           
19          0.01            0.05            0.01            0.05           
20          0.01            0.04            0.01            0.04           
21          0.03            0.00            0.03            0.00           
22          0.02            0.00            0.02            0.00           
23          0.01            0.02            0.01            0.02           
24          0.00            0.01            0.00            0.01           
2021-12-16 18:54:14,584 - __main__ - INFO - relative error average :0.02406658785287359
2021-12-16 18:54:14,584 - __main__ - INFO - relative error normalized average :0.02346914463383647
2021-12-16 18:54:14,585 - __main__ - INFO - relative error var normalized average :0.003233830824927969
2021-12-16 18:54:14,585 - __main__ - INFO - total_time:3.8460655631497502
