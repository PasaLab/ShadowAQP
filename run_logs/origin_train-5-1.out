main.py:20: FutureWarning: Passing a negative integer is deprecated in version 1.0 and will not be supported in future version. Instead, use None to not limit the column width.
  pd.set_option('max_colwidth', -1)
2021-12-16 18:55:07,366 - __main__ - INFO - load query config config/query/customer_with_inc_join_supplier.json successfully
2021-12-16 18:55:07,366 - __main__ - INFO - load train config ./config/train/tpch_customer_with_inc_torch_cvae.json successfully
2021-12-16 18:55:07,366 - __main__ - INFO - load train config ./config/train/tpch_supplier_torch_cvae.json successfully
2021-12-16 18:55:07,366 - utils.dataset_utils - INFO - load existing dataset(light):tpch-1m-customer-with-inc_c_nationkey_c_acctbal_c_nationkey_binary_gaussian5_0
2021-12-16 18:55:07,412 - utils.dataset_utils - INFO - load dataset(light) time elapsed:0.045940250158309937
2021-12-16 18:55:07,412 - models.pytorch_cvae - INFO - feature info:[('c_acctbal', 'numerical', 6), ('c_nationkey', 'categorical', 6)]
2021-12-16 18:55:07,413 - utils.model_utils - INFO - load model name:torch_cvae_tpch-1m-customer-with-inc_c_nationkey_ld50_id100_bs1024_ep100_0_binary_gaussian5
2021-12-16 18:55:09,657 - utils.model_utils - INFO - load torch model time elapsed:2.244026469066739
2021-12-16 18:55:09,657 - models.pytorch_cvae - INFO - load model time elapsed:2.2914589196443558
2021-12-16 18:55:09,657 - utils.dataset_utils - INFO - load existing dataset(light):tpch-1m-supplier_s_nationkey#s_suppkey_s_acctbal_s_nationkey_binary_gaussian5_0
2021-12-16 18:55:09,661 - utils.dataset_utils - INFO - load dataset(light) time elapsed:0.003595649264752865
2021-12-16 18:55:09,661 - models.pytorch_cvae - INFO - feature info:[('s_acctbal', 'numerical', 6), ('s_nationkey', 'categorical', 6), ('s_suppkey', 'categorical', 15)]
2021-12-16 18:55:09,662 - utils.model_utils - INFO - load model name:torch_cvae_tpch-1m-supplier_s_nationkey_ld50_id100_bs32_ep150_0_binary_gaussian5
2021-12-16 18:55:09,663 - utils.model_utils - INFO - load torch model time elapsed:0.0014816513285040855
2021-12-16 18:55:09,663 - models.pytorch_cvae - INFO - load model time elapsed:0.005873595364391804
2021-12-16 18:55:09,663 - __main__ - INFO - multi_sampling No.0 epoch
2021-12-16 18:55:09,664 - models.pytorch_cvae - INFO - statistics sampling rate:0.05
2021-12-16 18:55:09,664 - __main__ - INFO - multi_sampling No.1 epoch
2021-12-16 18:55:09,666 - models.pytorch_cvae - INFO - statistics sampling rate:0.05
2021-12-16 18:55:09,667 - __main__ - INFO - multi_sampling No.2 epoch
2021-12-16 18:55:09,667 - models.pytorch_cvae - INFO - statistics sampling rate:0.05
2021-12-16 18:55:10,829 - models.pytorch_cvae - INFO - sampling time:1.1657122801989317
2021-12-16 18:55:10,962 - models.pytorch_cvae - INFO - sampling time:1.2943389369174838
2021-12-16 18:55:11,223 - models.pytorch_cvae - INFO - sampling time:1.5559951141476631
2021-12-16 18:55:11,243 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:55:11,550 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:55:11,621 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:55:11,697 - models.pytorch_cvae - INFO - sampling time:0.45281131006777287
2021-12-16 18:55:11,767 - models.pytorch_cvae - INFO - sampling time:0.145976391620934
2021-12-16 18:55:11,890 - models.pytorch_cvae - INFO - sampling time:0.338223691098392
2021-12-16 18:55:12,011 - __main__ - INFO - sample and aggregation time elapsed:2.347427741624415
2021-12-16 18:55:12,057 - __main__ - INFO - sample and aggregation time elapsed:2.3905083257704973
2021-12-16 18:55:12,116 - __main__ - INFO - sample and aggregation time elapsed:2.4489569375291467
2021-12-16 18:55:12,122 - __main__ - INFO - sample time:2.4589248737320304
2021-12-16 18:55:12,136 - __main__ - INFO - aqp result:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           4521.68         5104.37         75250967357.07  84948222300.74 
1           4548.88         4829.10         79213878057.93  84093518115.07 
2           4444.15         4894.13         82563985313.37  90923794687.12 
3           4535.94         4522.51         84801164958.15  84550065509.74 
4           4480.77         4977.58         70652734274.15  78486460896.63 
5           4491.37         4861.68         69368639621.15  75087974983.05 
6           4484.46         5163.61         78803458325.53  90737776526.89 
7           4441.12         4932.53         76396843559.73  84850301571.56 
8           4470.33         5059.76         78471469159.38  88818323033.60 
9           4456.30         4927.23         77744699041.67  85960556323.19 
10          4433.67         4961.50         80403175432.28  89975196158.28 
11          4526.62         5304.03         81964417487.50  96041127224.73 
12          4495.45         4695.12         77334886106.86  80769866217.80 
13          4449.48         4667.11         73122098122.30  76698496614.70 
14          4461.89         5205.22         80609721733.90  94038821847.03 
15          4553.71         4827.37         74096470506.17  78549266100.22 
16          4455.69         4949.30         74397967409.06  82639925537.77 
17          4499.84         5384.08         77197988688.04  92367658827.48 
18          4413.83         5210.37         79055776799.28  93322527101.53 
19          4485.57         5166.19         75376331873.64  86813669083.38 
20          4399.88         5066.16         76901616408.67  88546998265.36 
21          4484.72         5311.44         78860119146.75  93397263136.41 
22          4454.93         4966.94         79513751450.82  88652352649.66 
23          4517.02         5090.71         76815391350.08  86571325024.52 
24          4399.84         4954.86         78369964040.15  88256036475.91 
2021-12-16 18:55:12,139 - __main__ - INFO - ground truth:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           4495.08         4750.47         74808300307.97  79058543738.51 
1           4481.35         5156.38         78037804737.42  89792862870.19 
2           4500.11         4926.83         83603605816.42  91531433246.36 
3           4501.52         4976.52         84157817962.92  93037962787.86 
4           4481.25         4955.13         70660420363.18  78132509824.90 
5           4506.27         5017.03         69598653692.12  77487270820.80 
6           4487.10         5263.09         78849876383.14  92485978451.44 
7           4480.55         4725.51         77075278088.26  81289117007.37 
8           4500.54         4898.26         79001842301.71  85983328363.66 
9           4508.52         5056.46         78655627222.94  88215027610.30 
10          4518.18         4934.04         81935710769.84  89477117315.13 
11          4512.10         4846.61         81701543083.81  87758487179.40 
12          4496.61         4905.97         77354913969.64  84397069733.16 
13          4506.92         4967.01         74066058944.76  81627052771.36 
14          4482.32         4748.57         80978762526.42  85788910922.73 
15          4515.02         4993.59         73466872175.01  81253978684.79 
16          4511.16         5125.84         75324113973.83  85587620982.90 
17          4471.53         5194.81         76712255703.01  89120736244.02 
18          4468.37         5153.13         80032519501.53  92297274686.32 
19          4490.91         4865.91         75466160926.82  81767784036.93 
20          4494.50         5210.90         78555417820.06  91076766492.73 
21          4497.21         5087.25         79079595482.76  89454975198.84 
22          4529.54         4945.33         80845288221.60  88266586724.51 
23          4489.35         4974.00         76344790639.43  84586573926.78 
24          4516.77         5065.90         80452749791.40  90233921611.59 
2021-12-16 18:55:12,151 - __main__ - INFO - relative error:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           0.01            0.07            0.01            0.07           
1           0.02            0.06            0.02            0.06           
2           0.01            0.01            0.01            0.01           
3           0.01            0.09            0.01            0.09           
4           0.00            0.00            0.00            0.00           
5           0.00            0.03            0.00            0.03           
6           0.00            0.02            0.00            0.02           
7           0.01            0.04            0.01            0.04           
8           0.01            0.03            0.01            0.03           
9           0.01            0.03            0.01            0.03           
10          0.02            0.01            0.02            0.01           
11          0.00            0.09            0.00            0.09           
12          0.00            0.04            0.00            0.04           
13          0.01            0.06            0.01            0.06           
14          0.00            0.10            0.00            0.10           
15          0.01            0.03            0.01            0.03           
16          0.01            0.03            0.01            0.03           
17          0.01            0.04            0.01            0.04           
18          0.01            0.01            0.01            0.01           
19          0.00            0.06            0.00            0.06           
20          0.02            0.03            0.02            0.03           
21          0.00            0.04            0.00            0.04           
22          0.02            0.00            0.02            0.00           
23          0.01            0.02            0.01            0.02           
24          0.03            0.02            0.03            0.02           
2021-12-16 18:55:12,151 - __main__ - INFO - relative error average :0.024304231983452426
2021-12-16 18:55:12,151 - __main__ - INFO - relative error normalized average :0.02370719147897782
2021-12-16 18:55:12,151 - __main__ - INFO - relative error var normalized average :0.003249695159584467
2021-12-16 18:55:12,152 - __main__ - INFO - total_time:4.7861156007274985
