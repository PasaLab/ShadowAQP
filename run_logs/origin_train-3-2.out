main.py:20: FutureWarning: Passing a negative integer is deprecated in version 1.0 and will not be supported in future version. Instead, use None to not limit the column width.
  pd.set_option('max_colwidth', -1)
2021-12-16 18:54:31,257 - __main__ - INFO - load query config config/query/customer_with_inc_join_supplier.json successfully
2021-12-16 18:54:31,257 - __main__ - INFO - load train config ./config/train/tpch_customer_with_inc_torch_cvae.json successfully
2021-12-16 18:54:31,257 - __main__ - INFO - load train config ./config/train/tpch_supplier_torch_cvae.json successfully
2021-12-16 18:54:31,257 - utils.dataset_utils - INFO - load existing dataset(light):tpch-1m-customer-with-inc_c_nationkey_c_acctbal_c_nationkey_binary_gaussian5_0
2021-12-16 18:54:31,310 - utils.dataset_utils - INFO - load dataset(light) time elapsed:0.05236006714403629
2021-12-16 18:54:31,310 - models.pytorch_cvae - INFO - feature info:[('c_acctbal', 'numerical', 6), ('c_nationkey', 'categorical', 6)]
2021-12-16 18:54:31,311 - utils.model_utils - INFO - load model name:torch_cvae_tpch-1m-customer-with-inc_c_nationkey_ld50_id100_bs1024_ep100_0_binary_gaussian5
2021-12-16 18:54:33,352 - utils.model_utils - INFO - load torch model time elapsed:2.0411292631179094
2021-12-16 18:54:33,352 - models.pytorch_cvae - INFO - load model time elapsed:2.094995988532901
2021-12-16 18:54:33,352 - utils.dataset_utils - INFO - load existing dataset(light):tpch-1m-supplier_s_nationkey#s_suppkey_s_acctbal_s_nationkey_binary_gaussian5_0
2021-12-16 18:54:33,356 - utils.dataset_utils - INFO - load dataset(light) time elapsed:0.003443315625190735
2021-12-16 18:54:33,356 - models.pytorch_cvae - INFO - feature info:[('s_acctbal', 'numerical', 6), ('s_nationkey', 'categorical', 6), ('s_suppkey', 'categorical', 15)]
2021-12-16 18:54:33,356 - utils.model_utils - INFO - load model name:torch_cvae_tpch-1m-supplier_s_nationkey_ld50_id100_bs32_ep150_0_binary_gaussian5
2021-12-16 18:54:33,358 - utils.model_utils - INFO - load torch model time elapsed:0.0013651391491293907
2021-12-16 18:54:33,358 - models.pytorch_cvae - INFO - load model time elapsed:0.005522296763956547
2021-12-16 18:54:33,358 - __main__ - INFO - multi_sampling No.0 epoch
2021-12-16 18:54:33,358 - models.pytorch_cvae - INFO - statistics sampling rate:0.03
2021-12-16 18:54:33,359 - __main__ - INFO - multi_sampling No.1 epoch
2021-12-16 18:54:33,364 - models.pytorch_cvae - INFO - statistics sampling rate:0.03
2021-12-16 18:54:33,364 - __main__ - INFO - multi_sampling No.2 epoch
2021-12-16 18:54:33,365 - models.pytorch_cvae - INFO - statistics sampling rate:0.03
2021-12-16 18:54:34,308 - models.pytorch_cvae - INFO - sampling time:0.9431349830701947
2021-12-16 18:54:34,329 - models.pytorch_cvae - INFO - sampling time:0.9700730573385954
2021-12-16 18:54:34,494 - models.pytorch_cvae - INFO - sampling time:1.126863595098257
2021-12-16 18:54:34,681 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:54:34,719 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:54:34,747 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:54:34,838 - models.pytorch_cvae - INFO - sampling time:0.1560965348035097
2021-12-16 18:54:34,922 - models.pytorch_cvae - INFO - sampling time:0.17414615768939257
2021-12-16 18:54:34,957 - models.pytorch_cvae - INFO - sampling time:0.23706596344709396
2021-12-16 18:54:35,001 - __main__ - INFO - sample and aggregation time elapsed:1.6371657168492675
2021-12-16 18:54:35,062 - __main__ - INFO - sample and aggregation time elapsed:1.6967507498338819
2021-12-16 18:54:35,101 - __main__ - INFO - sample and aggregation time elapsed:1.7427996126934886
2021-12-16 18:54:35,106 - __main__ - INFO - sample time:1.7478689309209585
2021-12-16 18:54:35,118 - __main__ - INFO - aqp result:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           4493.38         5544.71         74779980771.55  92276455539.64 
1           4554.57         4892.80         79312846783.33  85202778251.30 
2           4509.71         5140.61         83782107943.43  95503087939.25 
3           4503.58         5084.52         84196254448.30  95057160979.40 
4           4565.26         4936.14         71984976411.01  77833106842.48 
5           4434.85         4715.18         68495594529.91  72825296176.83 
6           4445.18         4586.59         78113272634.75  80598200035.76 
7           4438.26         5093.70         76347650244.08  87622740557.85 
8           4502.75         5227.42         79040697344.95  91761357679.23 
9           4506.89         4376.37         78627162243.76  76350190870.56 
10          4417.90         4252.43         80117186604.44  77116316679.70 
11          4504.85         5374.53         81570294871.23  97317719166.74 
12          4432.36         4463.12         76249602667.64  76778674920.00 
13          4574.84         4865.30         75182244665.29  79955502352.45 
14          4484.72         5010.62         81022159592.74  90523139615.80 
15          4548.40         4807.00         74009927997.10  78217823986.99 
16          4509.13         5216.43         75290236456.17  87100216218.45 
17          4500.84         5103.90         77215153147.87  87560990659.85 
18          4493.84         5243.87         80488806455.03  93922516953.54 
19          4401.71         5172.13         73967188927.77  86913529810.35 
20          4396.83         5206.87         76848295486.25  91006345671.19 
21          4531.36         5553.00         79680107937.01  97644857501.57 
22          4407.84         4814.44         78673232075.43  85930400958.69 
23          4461.06         4761.04         75863633145.82  80965120695.44 
24          4468.98         5190.01         79601591833.14  92444519260.80 
2021-12-16 18:54:35,121 - __main__ - INFO - ground truth:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           4495.08         4750.47         74808300307.97  79058543738.51 
1           4481.35         5156.38         78037804737.42  89792862870.19 
2           4500.11         4926.83         83603605816.42  91531433246.36 
3           4501.52         4976.52         84157817962.92  93037962787.86 
4           4481.25         4955.13         70660420363.18  78132509824.90 
5           4506.27         5017.03         69598653692.12  77487270820.80 
6           4487.10         5263.09         78849876383.14  92485978451.44 
7           4480.55         4725.51         77075278088.26  81289117007.37 
8           4500.54         4898.26         79001842301.71  85983328363.66 
9           4508.52         5056.46         78655627222.94  88215027610.30 
10          4518.18         4934.04         81935710769.84  89477117315.13 
11          4512.10         4846.61         81701543083.81  87758487179.40 
12          4496.61         4905.97         77354913969.64  84397069733.16 
13          4506.92         4967.01         74066058944.76  81627052771.36 
14          4482.32         4748.57         80978762526.42  85788910922.73 
15          4515.02         4993.59         73466872175.01  81253978684.79 
16          4511.16         5125.84         75324113973.83  85587620982.90 
17          4471.53         5194.81         76712255703.01  89120736244.02 
18          4468.37         5153.13         80032519501.53  92297274686.32 
19          4490.91         4865.91         75466160926.82  81767784036.93 
20          4494.50         5210.90         78555417820.06  91076766492.73 
21          4497.21         5087.25         79079595482.76  89454975198.84 
22          4529.54         4945.33         80845288221.60  88266586724.51 
23          4489.35         4974.00         76344790639.43  84586573926.78 
24          4516.77         5065.90         80452749791.40  90233921611.59 
2021-12-16 18:54:35,132 - __main__ - INFO - relative error:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           0.00            0.17            0.00            0.17           
1           0.02            0.05            0.02            0.05           
2           0.00            0.04            0.00            0.04           
3           0.00            0.02            0.00            0.02           
4           0.02            0.00            0.02            0.00           
5           0.02            0.06            0.02            0.06           
6           0.01            0.13            0.01            0.13           
7           0.01            0.08            0.01            0.08           
8           0.00            0.07            0.00            0.07           
9           0.00            0.13            0.00            0.13           
10          0.02            0.14            0.02            0.14           
11          0.00            0.11            0.00            0.11           
12          0.01            0.09            0.01            0.09           
13          0.02            0.02            0.02            0.02           
14          0.00            0.06            0.00            0.06           
15          0.01            0.04            0.01            0.04           
16          0.00            0.02            0.00            0.02           
17          0.01            0.02            0.01            0.02           
18          0.01            0.02            0.01            0.02           
19          0.02            0.06            0.02            0.06           
20          0.02            0.00            0.02            0.00           
21          0.01            0.09            0.01            0.09           
22          0.03            0.03            0.03            0.03           
23          0.01            0.04            0.01            0.04           
24          0.01            0.02            0.01            0.02           
2021-12-16 18:54:35,132 - __main__ - INFO - relative error average :0.03496018831786936
2021-12-16 18:54:35,133 - __main__ - INFO - relative error normalized average :0.0335534402281925
2021-12-16 18:54:35,133 - __main__ - INFO - relative error var normalized average :0.007610394318897043
2021-12-16 18:54:35,133 - __main__ - INFO - total_time:3.8762328047305346
