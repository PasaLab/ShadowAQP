main.py:20: FutureWarning: Passing a negative integer is deprecated in version 1.0 and will not be supported in future version. Instead, use None to not limit the column width.
  pd.set_option('max_colwidth', -1)
2021-12-16 18:54:45,107 - __main__ - INFO - load query config config/query/customer_with_inc_join_supplier.json successfully
2021-12-16 18:54:45,107 - __main__ - INFO - load train config ./config/train/tpch_customer_with_inc_torch_cvae.json successfully
2021-12-16 18:54:45,107 - __main__ - INFO - load train config ./config/train/tpch_supplier_torch_cvae.json successfully
2021-12-16 18:54:45,107 - utils.dataset_utils - INFO - load existing dataset(light):tpch-1m-customer-with-inc_c_nationkey_c_acctbal_c_nationkey_binary_gaussian5_0
2021-12-16 18:54:45,169 - utils.dataset_utils - INFO - load dataset(light) time elapsed:0.0620183739811182
2021-12-16 18:54:45,169 - models.pytorch_cvae - INFO - feature info:[('c_acctbal', 'numerical', 6), ('c_nationkey', 'categorical', 6)]
2021-12-16 18:54:45,172 - utils.model_utils - INFO - load model name:torch_cvae_tpch-1m-customer-with-inc_c_nationkey_ld50_id100_bs1024_ep100_0_binary_gaussian5
2021-12-16 18:54:47,236 - utils.model_utils - INFO - load torch model time elapsed:2.064074533060193
2021-12-16 18:54:47,236 - models.pytorch_cvae - INFO - load model time elapsed:2.1290361043065786
2021-12-16 18:54:47,236 - utils.dataset_utils - INFO - load existing dataset(light):tpch-1m-supplier_s_nationkey#s_suppkey_s_acctbal_s_nationkey_binary_gaussian5_0
2021-12-16 18:54:47,239 - utils.dataset_utils - INFO - load dataset(light) time elapsed:0.003219212405383587
2021-12-16 18:54:47,239 - models.pytorch_cvae - INFO - feature info:[('s_acctbal', 'numerical', 6), ('s_nationkey', 'categorical', 6), ('s_suppkey', 'categorical', 15)]
2021-12-16 18:54:47,240 - utils.model_utils - INFO - load model name:torch_cvae_tpch-1m-supplier_s_nationkey_ld50_id100_bs32_ep150_0_binary_gaussian5
2021-12-16 18:54:47,241 - utils.model_utils - INFO - load torch model time elapsed:0.0013506067916750908
2021-12-16 18:54:47,241 - models.pytorch_cvae - INFO - load model time elapsed:0.005283278413116932
2021-12-16 18:54:47,241 - __main__ - INFO - multi_sampling No.0 epoch
2021-12-16 18:54:47,242 - models.pytorch_cvae - INFO - statistics sampling rate:0.04
2021-12-16 18:54:47,242 - __main__ - INFO - multi_sampling No.1 epoch
2021-12-16 18:54:47,247 - models.pytorch_cvae - INFO - statistics sampling rate:0.04
2021-12-16 18:54:47,247 - __main__ - INFO - multi_sampling No.2 epoch
2021-12-16 18:54:47,248 - models.pytorch_cvae - INFO - statistics sampling rate:0.04
2021-12-16 18:54:48,418 - models.pytorch_cvae - INFO - sampling time:1.175610183738172
2021-12-16 18:54:48,421 - models.pytorch_cvae - INFO - sampling time:1.1731114191934466
2021-12-16 18:54:48,762 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:54:48,768 - models.pytorch_cvae - INFO - sampling time:1.51933709718287
2021-12-16 18:54:48,989 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:54:48,997 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:54:49,113 - models.pytorch_cvae - INFO - sampling time:0.12341293971985579
2021-12-16 18:54:49,169 - models.pytorch_cvae - INFO - sampling time:0.4066716218367219
2021-12-16 18:54:49,257 - models.pytorch_cvae - INFO - sampling time:0.25965220108628273
2021-12-16 18:54:49,409 - __main__ - INFO - sample and aggregation time elapsed:2.1623824993148446
2021-12-16 18:54:49,444 - __main__ - INFO - sample and aggregation time elapsed:2.2029915377497673
2021-12-16 18:54:49,479 - __main__ - INFO - sample and aggregation time elapsed:2.2311998549848795
2021-12-16 18:54:49,484 - __main__ - INFO - sample time:2.242694353684783
2021-12-16 18:54:49,497 - __main__ - INFO - aqp result:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           4478.63         5166.44         74534509296.52  85981192549.81 
1           4516.72         5133.86         78653820347.36  89400567644.20 
2           4497.88         5347.81         83562205055.40  99352439544.75 
3           4529.58         4644.93         84682288728.18  86838798153.09 
4           4539.90         4650.16         71585131079.26  73323767940.61 
5           4454.67         5032.38         68801796531.62  77724364460.35 
6           4433.30         4875.41         77904415800.57  85673443459.00 
7           4502.68         4660.52         77455890959.69  80171098843.69 
8           4457.66         4768.62         78249148582.90  83707603880.09 
9           4536.38         4697.52         79141621129.06  81952880745.39 
10          4446.35         5232.31         80632968858.07  94886152705.04 
11          4484.38         4821.48         81199531552.30  87303559011.96 
12          4542.77         4399.00         78148938831.33  75675666314.90 
13          4481.68         4761.08         73651233944.13  78242802499.74 
14          4464.26         5281.39         80652508616.95  95415045838.47 
15          4460.00         5533.68         72571651718.44  90042138624.19 
16          4507.58         4798.15         75264349182.73  80116005034.33 
17          4485.08         4871.53         76944763788.43  83574517108.71 
18          4528.32         5387.74         81106383586.21  96499354223.56 
19          4421.08         4644.47         74292688750.34  78046538453.99 
20          4453.23         5283.16         77834012386.65  92339691315.70 
21          4458.46         4994.40         78398238548.49  87822413302.41 
22          4462.36         5345.63         79646264859.79  95411411705.20 
23          4416.12         5094.00         75099522656.49  86627306025.56 
24          4388.78         5413.02         78172989248.53  96416743038.62 
2021-12-16 18:54:49,500 - __main__ - INFO - ground truth:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           4495.08         4750.47         74808300307.97  79058543738.51 
1           4481.35         5156.38         78037804737.42  89792862870.19 
2           4500.11         4926.83         83603605816.42  91531433246.36 
3           4501.52         4976.52         84157817962.92  93037962787.86 
4           4481.25         4955.13         70660420363.18  78132509824.90 
5           4506.27         5017.03         69598653692.12  77487270820.80 
6           4487.10         5263.09         78849876383.14  92485978451.44 
7           4480.55         4725.51         77075278088.26  81289117007.37 
8           4500.54         4898.26         79001842301.71  85983328363.66 
9           4508.52         5056.46         78655627222.94  88215027610.30 
10          4518.18         4934.04         81935710769.84  89477117315.13 
11          4512.10         4846.61         81701543083.81  87758487179.40 
12          4496.61         4905.97         77354913969.64  84397069733.16 
13          4506.92         4967.01         74066058944.76  81627052771.36 
14          4482.32         4748.57         80978762526.42  85788910922.73 
15          4515.02         4993.59         73466872175.01  81253978684.79 
16          4511.16         5125.84         75324113973.83  85587620982.90 
17          4471.53         5194.81         76712255703.01  89120736244.02 
18          4468.37         5153.13         80032519501.53  92297274686.32 
19          4490.91         4865.91         75466160926.82  81767784036.93 
20          4494.50         5210.90         78555417820.06  91076766492.73 
21          4497.21         5087.25         79079595482.76  89454975198.84 
22          4529.54         4945.33         80845288221.60  88266586724.51 
23          4489.35         4974.00         76344790639.43  84586573926.78 
24          4516.77         5065.90         80452749791.40  90233921611.59 
2021-12-16 18:54:49,511 - __main__ - INFO - relative error:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           0.00            0.09            0.00            0.09           
1           0.01            0.00            0.01            0.00           
2           0.00            0.09            0.00            0.09           
3           0.01            0.07            0.01            0.07           
4           0.01            0.06            0.01            0.06           
5           0.01            0.00            0.01            0.00           
6           0.01            0.07            0.01            0.07           
7           0.00            0.01            0.00            0.01           
8           0.01            0.03            0.01            0.03           
9           0.01            0.07            0.01            0.07           
10          0.02            0.06            0.02            0.06           
11          0.01            0.01            0.01            0.01           
12          0.01            0.10            0.01            0.10           
13          0.01            0.04            0.01            0.04           
14          0.00            0.11            0.00            0.11           
15          0.01            0.11            0.01            0.11           
16          0.00            0.06            0.00            0.06           
17          0.00            0.06            0.00            0.06           
18          0.01            0.05            0.01            0.05           
19          0.02            0.05            0.02            0.05           
20          0.01            0.01            0.01            0.01           
21          0.01            0.02            0.01            0.02           
22          0.01            0.08            0.01            0.08           
23          0.02            0.02            0.02            0.02           
24          0.03            0.07            0.03            0.07           
2021-12-16 18:54:49,511 - __main__ - INFO - relative error average :0.03173669366800051
2021-12-16 18:54:49,511 - __main__ - INFO - relative error normalized average :0.030737841457097924
2021-12-16 18:54:49,511 - __main__ - INFO - relative error var normalized average :0.005496178538540373
2021-12-16 18:54:49,512 - __main__ - INFO - total_time:4.405422842130065
