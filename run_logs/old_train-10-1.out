main.py:20: FutureWarning: Passing a negative integer is deprecated in version 1.0 and will not be supported in future version. Instead, use None to not limit the column width.
  pd.set_option('max_colwidth', -1)
2021-12-16 19:10:43,330 - __main__ - INFO - load query config config/query/customer_with_inc_join_supplier.json successfully
2021-12-16 19:10:43,331 - __main__ - INFO - load train config ./config/train/tpch_customer_with_inc_torch_cvae.json successfully
2021-12-16 19:10:43,331 - __main__ - INFO - load train config ./config/train/tpch_supplier_torch_cvae.json successfully
2021-12-16 19:10:43,331 - utils.dataset_utils - INFO - load existing dataset(light):tpch-1m-customer-with-inc_c_nationkey_c_acctbal_c_nationkey_binary_gaussian5_0old_train
2021-12-16 19:10:46,082 - utils.dataset_utils - INFO - load dataset(light) time elapsed:2.751658250577748
2021-12-16 19:10:46,082 - models.pytorch_cvae - INFO - feature info:[('c_acctbal', 'numerical', 6), ('c_nationkey', 'categorical', 6)]
2021-12-16 19:10:46,084 - utils.model_utils - INFO - load model name:torch_cvae_tpch-1m-customer-with-inc_c_nationkey_ld50_id100_bs1024_ep100_0_binary_gaussian5old_train
2021-12-16 19:10:46,088 - utils.model_utils - INFO - load torch model time elapsed:0.004585924558341503
2021-12-16 19:10:46,088 - models.pytorch_cvae - INFO - load model time elapsed:2.7576116379350424
2021-12-16 19:10:46,088 - utils.dataset_utils - INFO - load existing dataset(light):tpch-1m-supplier_s_nationkey#s_suppkey_s_acctbal_s_nationkey_binary_gaussian5_0
2021-12-16 19:10:46,091 - utils.dataset_utils - INFO - load dataset(light) time elapsed:0.002726953476667404
2021-12-16 19:10:46,091 - models.pytorch_cvae - INFO - feature info:[('s_acctbal', 'numerical', 6), ('s_nationkey', 'categorical', 6), ('s_suppkey', 'categorical', 15)]
2021-12-16 19:10:46,092 - utils.model_utils - INFO - load model name:torch_cvae_tpch-1m-supplier_s_nationkey_ld50_id100_bs32_ep150_0_binary_gaussian5
2021-12-16 19:10:46,093 - utils.model_utils - INFO - load torch model time elapsed:0.0014878660440444946
2021-12-16 19:10:46,093 - models.pytorch_cvae - INFO - load model time elapsed:0.004875080659985542
2021-12-16 19:10:46,093 - __main__ - INFO - multi_sampling No.0 epoch
2021-12-16 19:10:46,094 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 19:10:46,094 - __main__ - INFO - multi_sampling No.1 epoch
2021-12-16 19:10:46,099 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 19:10:46,100 - __main__ - INFO - multi_sampling No.2 epoch
2021-12-16 19:10:46,100 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 19:10:47,638 - models.pytorch_cvae - INFO - sampling time:1.5378709314391017
2021-12-16 19:10:47,639 - models.pytorch_cvae - INFO - sampling time:1.5446872161701322
2021-12-16 19:10:49,041 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 19:10:49,047 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 19:10:49,049 - models.pytorch_cvae - INFO - sampling time:2.947778766974807
2021-12-16 19:10:49,316 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 19:10:49,418 - models.pytorch_cvae - INFO - sampling time:0.10149579867720604
2021-12-16 19:10:49,472 - models.pytorch_cvae - INFO - sampling time:0.42486762069165707
2021-12-16 19:10:49,614 - models.pytorch_cvae - INFO - sampling time:0.5716050835326314
2021-12-16 19:10:50,108 - __main__ - INFO - sample and aggregation time elapsed:4.007307623513043
2021-12-16 19:10:50,292 - __main__ - INFO - sample and aggregation time elapsed:4.198904407210648
2021-12-16 19:10:50,336 - __main__ - INFO - sample and aggregation time elapsed:4.237082406878471
2021-12-16 19:10:50,339 - __main__ - INFO - sample time:4.245872093364596
2021-12-16 19:10:50,348 - __main__ - INFO - aqp result:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           4496.99         5186.84         97375671596.50  112313333771.01
1           4509.01         5196.98         102211611182.45 117806537649.71
2           4472.16         5155.37         108032883163.39 124537054210.50
3           4485.98         5355.72         109464842394.04 130687881519.76
4           4483.83         5253.67         92255577466.36  108094995748.35
5           4509.88         4898.40         90747814438.21  98565536671.24 
6           4483.60         4564.67         102426898773.32 104278729572.01
7           4500.10         4754.14         100668547863.15 106351333244.94
8           4567.07         4860.91         103907916052.03 110593218481.44
9           4552.81         5153.14         103053137072.63 116641816868.92
10          4517.02         4686.73         106706671324.58 110715672645.79
11          4478.31         5188.05         105471655693.06 122187303481.65
12          4552.19         5537.31         101597999562.12 123584380763.79
13          4561.77         4700.57         97539213671.94  100506974241.24
14          4579.45         4190.02         107736013737.15 98574179342.36 
15          4546.10         4592.40         96351859368.03  97333082474.63 
16          4458.12         5142.21         96977710919.39  111858822078.69
17          4464.04         4783.72         99491932794.85  106616813949.68
18          4520.27         4958.59         105267483522.99 115475074676.20
19          4510.90         4832.22         98514168722.71  105531680708.86
20          4459.77         5192.80         101313455098.94 117965870888.33
21          4476.55         5016.56         102618395463.69 114997425810.82
22          4519.48         4625.88         104854189544.12 107322687119.68
23          4433.37         5115.51         98062306674.45  113150572877.52
24          4537.69         5094.96         105084907479.43 117990274286.00
2021-12-16 19:10:50,350 - __main__ - INFO - ground truth:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           4489.09         4750.47         97204429060.11  102864283639.34
1           4478.58         5156.38         101521631809.03 116886387814.97
2           4502.84         4926.83         108773860934.93 119016293073.25
3           4510.50         4976.52         110063319836.95 121434781349.97
4           4467.80         4955.13         91925727389.56  101952561544.09
5           4506.93         5017.03         90688332145.90  100952499397.81
6           4489.99         5263.09         102572805214.01 120234077220.52
7           4481.97         4725.51         100262969999.54 105711043954.64
8           4491.71         4898.26         102193355822.35 111442904344.11
9           4507.31         5056.46         102023357487.12 114453365970.99
10          4514.20         4934.04         106640129528.12 116557963141.05
11          4509.51         4846.61         106206568975.75 114145706219.45
12          4495.81         4905.97         100339620692.57 109493748108.56
13          4519.66         4967.01         96638723186.87  106203971323.94
14          4489.09         4748.57         105610059556.98 111714619054.55
15          4513.94         4993.59         95670237506.21  105836044024.01
16          4509.69         5125.84         98099691841.22  111502795597.57
17          4476.99         5194.81         99780562278.61  115778956973.10
18          4470.09         5153.13         104098927638.07 120005532950.10
19          4480.83         4865.91         97857583891.19  106267463992.76
20          4505.29         5210.90         102347462434.85 118377097752.18
21          4500.84         5087.25         103175299651.56 116617824864.37
22          4522.71         4945.33         104928946224.34 114733990724.54
23          4492.85         4974.00         99377984303.50  110020479238.93
24          4507.26         5065.90         104380144828.63 117317398620.77
2021-12-16 19:10:50,360 - __main__ - INFO - relative error:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           0.00            0.09            0.00            0.09           
1           0.01            0.01            0.01            0.01           
2           0.01            0.05            0.01            0.05           
3           0.01            0.08            0.01            0.08           
4           0.00            0.06            0.00            0.06           
5           0.00            0.02            0.00            0.02           
6           0.00            0.13            0.00            0.13           
7           0.00            0.01            0.00            0.01           
8           0.02            0.01            0.02            0.01           
9           0.01            0.02            0.01            0.02           
10          0.00            0.05            0.00            0.05           
11          0.01            0.07            0.01            0.07           
12          0.01            0.13            0.01            0.13           
13          0.01            0.05            0.01            0.05           
14          0.02            0.12            0.02            0.12           
15          0.01            0.08            0.01            0.08           
16          0.01            0.00            0.01            0.00           
17          0.00            0.08            0.00            0.08           
18          0.01            0.04            0.01            0.04           
19          0.01            0.01            0.01            0.01           
20          0.01            0.00            0.01            0.00           
21          0.01            0.01            0.01            0.01           
22          0.00            0.06            0.00            0.06           
23          0.01            0.03            0.01            0.03           
24          0.01            0.01            0.01            0.01           
2021-12-16 19:10:50,360 - __main__ - INFO - relative error average :0.027965100461792475
2021-12-16 19:10:50,360 - __main__ - INFO - relative error normalized average :0.0269881075075339
2021-12-16 19:10:50,360 - __main__ - INFO - relative error var normalized average :0.005825491238228016
2021-12-16 19:10:50,363 - __main__ - INFO - total_time:7.032279052771628
