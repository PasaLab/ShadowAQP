main.py:20: FutureWarning: Passing a negative integer is deprecated in version 1.0 and will not be supported in future version. Instead, use None to not limit the column width.
  pd.set_option('max_colwidth', -1)
2021-12-16 18:53:57,856 - __main__ - INFO - load query config config/query/customer_with_inc_join_supplier.json successfully
2021-12-16 18:53:57,856 - __main__ - INFO - load train config ./config/train/tpch_customer_with_inc_torch_cvae.json successfully
2021-12-16 18:53:57,857 - __main__ - INFO - load train config ./config/train/tpch_supplier_torch_cvae.json successfully
2021-12-16 18:53:57,857 - utils.dataset_utils - INFO - load existing dataset(light):tpch-1m-customer-with-inc_c_nationkey_c_acctbal_c_nationkey_binary_gaussian5_0
2021-12-16 18:53:57,903 - utils.dataset_utils - INFO - load dataset(light) time elapsed:0.046775639057159424
2021-12-16 18:53:57,904 - models.pytorch_cvae - INFO - feature info:[('c_acctbal', 'numerical', 6), ('c_nationkey', 'categorical', 6)]
2021-12-16 18:53:57,905 - utils.model_utils - INFO - load model name:torch_cvae_tpch-1m-customer-with-inc_c_nationkey_ld50_id100_bs1024_ep100_0_binary_gaussian5
2021-12-16 18:53:59,979 - utils.model_utils - INFO - load torch model time elapsed:2.0745599139481783
2021-12-16 18:53:59,979 - models.pytorch_cvae - INFO - load model time elapsed:2.1228319741785526
2021-12-16 18:53:59,979 - utils.dataset_utils - INFO - load existing dataset(light):tpch-1m-supplier_s_nationkey#s_suppkey_s_acctbal_s_nationkey_binary_gaussian5_0
2021-12-16 18:53:59,982 - utils.dataset_utils - INFO - load dataset(light) time elapsed:0.002632647752761841
2021-12-16 18:53:59,982 - models.pytorch_cvae - INFO - feature info:[('s_acctbal', 'numerical', 6), ('s_nationkey', 'categorical', 6), ('s_suppkey', 'categorical', 15)]
2021-12-16 18:53:59,983 - utils.model_utils - INFO - load model name:torch_cvae_tpch-1m-supplier_s_nationkey_ld50_id100_bs32_ep150_0_binary_gaussian5
2021-12-16 18:53:59,984 - utils.model_utils - INFO - load torch model time elapsed:0.0013643298298120499
2021-12-16 18:53:59,984 - models.pytorch_cvae - INFO - load model time elapsed:0.004725840874016285
2021-12-16 18:53:59,984 - __main__ - INFO - multi_sampling No.0 epoch
2021-12-16 18:53:59,985 - models.pytorch_cvae - INFO - statistics sampling rate:0.01
2021-12-16 18:53:59,985 - __main__ - INFO - multi_sampling No.1 epoch
2021-12-16 18:53:59,990 - models.pytorch_cvae - INFO - statistics sampling rate:0.01
2021-12-16 18:53:59,991 - __main__ - INFO - multi_sampling No.2 epoch
2021-12-16 18:53:59,991 - models.pytorch_cvae - INFO - statistics sampling rate:0.01
2021-12-16 18:54:00,539 - models.pytorch_cvae - INFO - sampling time:0.5540410038083792
2021-12-16 18:54:00,566 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:54:00,627 - models.pytorch_cvae - INFO - sampling time:0.6358691286295652
2021-12-16 18:54:00,704 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:54:00,732 - models.pytorch_cvae - INFO - sampling time:0.7401985330507159
2021-12-16 18:54:00,763 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:54:00,843 - models.pytorch_cvae - INFO - sampling time:0.27736744936555624
2021-12-16 18:54:00,922 - models.pytorch_cvae - INFO - sampling time:0.15950621291995049
2021-12-16 18:54:00,933 - __main__ - INFO - sample and aggregation time elapsed:0.9480640031397343
2021-12-16 18:54:00,994 - models.pytorch_cvae - INFO - sampling time:0.28163105994462967
2021-12-16 18:54:01,055 - __main__ - INFO - sample and aggregation time elapsed:1.0634976653382182
2021-12-16 18:54:01,080 - __main__ - INFO - sample and aggregation time elapsed:1.0894055040553212
2021-12-16 18:54:01,084 - __main__ - INFO - sample time:1.09996815957129
2021-12-16 18:54:01,097 - __main__ - INFO - aqp result:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           4478.35         4809.70         74529855760.75  80044253808.09 
1           4391.55         5158.65         76474185141.41  89832351576.97 
2           4435.31         5055.48         82399896992.76  93921491106.34 
3           4689.12         4842.85         87664924433.23  90539120851.74 
4           4499.46         5167.82         70947481063.01  81486250776.71 
5           4479.51         5158.02         69185472582.90  79664880392.01 
6           4466.56         5171.32         78488846634.03  90873400801.39 
7           4548.93         4344.09         78251450105.19  74727743117.59 
8           4602.25         5223.25         80787207100.28  91688122792.47 
9           4526.39         4976.57         78967374056.65  86821341658.44 
10          4403.81         5252.76         79861618269.46  95256978076.78 
11          4541.33         4652.07         82230683108.16  84235942108.47 
12          4512.63         4909.07         77630516721.71  84450432517.50 
13          4561.00         4833.39         74954757705.49  79431167041.11 
14          4616.43         4793.13         83401722670.61  86593971657.02 
15          4473.63         4292.24         72793395096.04  69841840124.55 
16          4305.55         4963.74         71891031268.64  82880979029.61 
17          4343.19         5221.68         74510554188.84  89581613710.64 
18          4547.24         4962.01         81445214927.83  88874053356.61 
19          4384.60         5163.05         73679723173.63  86760980762.18 
20          4288.50         5230.77         74954888669.44  91424020292.04 
21          4622.62         4786.16         81284954959.12  84160657159.61 
22          4357.02         4355.94         77766169955.20  77746881625.18 
23          4452.45         4745.61         75717217369.54  80702635395.19 
24          4404.27         4950.55         78448845223.35  88179302746.31 
2021-12-16 18:54:01,101 - __main__ - INFO - ground truth:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           4495.08         4750.47         74808300307.97  79058543738.51 
1           4481.35         5156.38         78037804737.42  89792862870.19 
2           4500.11         4926.83         83603605816.42  91531433246.36 
3           4501.52         4976.52         84157817962.92  93037962787.86 
4           4481.25         4955.13         70660420363.18  78132509824.90 
5           4506.27         5017.03         69598653692.12  77487270820.80 
6           4487.10         5263.09         78849876383.14  92485978451.44 
7           4480.55         4725.51         77075278088.26  81289117007.37 
8           4500.54         4898.26         79001842301.71  85983328363.66 
9           4508.52         5056.46         78655627222.94  88215027610.30 
10          4518.18         4934.04         81935710769.84  89477117315.13 
11          4512.10         4846.61         81701543083.81  87758487179.40 
12          4496.61         4905.97         77354913969.64  84397069733.16 
13          4506.92         4967.01         74066058944.76  81627052771.36 
14          4482.32         4748.57         80978762526.42  85788910922.73 
15          4515.02         4993.59         73466872175.01  81253978684.79 
16          4511.16         5125.84         75324113973.83  85587620982.90 
17          4471.53         5194.81         76712255703.01  89120736244.02 
18          4468.37         5153.13         80032519501.53  92297274686.32 
19          4490.91         4865.91         75466160926.82  81767784036.93 
20          4494.50         5210.90         78555417820.06  91076766492.73 
21          4497.21         5087.25         79079595482.76  89454975198.84 
22          4529.54         4945.33         80845288221.60  88266586724.51 
23          4489.35         4974.00         76344790639.43  84586573926.78 
24          4516.77         5065.90         80452749791.40  90233921611.59 
2021-12-16 18:54:01,112 - __main__ - INFO - relative error:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           0.00            0.01            0.00            0.01           
1           0.02            0.00            0.02            0.00           
2           0.01            0.03            0.01            0.03           
3           0.04            0.03            0.04            0.03           
4           0.00            0.04            0.00            0.04           
5           0.01            0.03            0.01            0.03           
6           0.00            0.02            0.00            0.02           
7           0.02            0.08            0.02            0.08           
8           0.02            0.07            0.02            0.07           
9           0.00            0.02            0.00            0.02           
10          0.03            0.06            0.03            0.06           
11          0.01            0.04            0.01            0.04           
12          0.00            0.00            0.00            0.00           
13          0.01            0.03            0.01            0.03           
14          0.03            0.01            0.03            0.01           
15          0.01            0.14            0.01            0.14           
16          0.05            0.03            0.05            0.03           
17          0.03            0.01            0.03            0.01           
18          0.02            0.04            0.02            0.04           
19          0.02            0.06            0.02            0.06           
20          0.05            0.00            0.05            0.00           
21          0.03            0.06            0.03            0.06           
22          0.04            0.12            0.04            0.12           
23          0.01            0.05            0.01            0.05           
24          0.02            0.02            0.02            0.02           
2021-12-16 18:54:01,112 - __main__ - INFO - relative error average :0.029366595972379964
2021-12-16 18:54:01,112 - __main__ - INFO - relative error normalized average :0.028566308425283852
2021-12-16 18:54:01,112 - __main__ - INFO - relative error var normalized average :0.004207485445188543
2021-12-16 18:54:01,113 - __main__ - INFO - total_time:3.2562558026984334
