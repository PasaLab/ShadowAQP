main.py:20: FutureWarning: Passing a negative integer is deprecated in version 1.0 and will not be supported in future version. Instead, use None to not limit the column width.
  pd.set_option('max_colwidth', -1)
2021-12-16 18:56:26,593 - __main__ - INFO - load query config config/query/customer_with_inc_join_supplier.json successfully
2021-12-16 18:56:26,593 - __main__ - INFO - load train config ./config/train/tpch_customer_with_inc_torch_cvae.json successfully
2021-12-16 18:56:26,593 - __main__ - INFO - load train config ./config/train/tpch_supplier_torch_cvae.json successfully
2021-12-16 18:56:26,593 - utils.dataset_utils - INFO - load existing dataset(light):tpch-1m-customer-with-inc_c_nationkey_c_acctbal_c_nationkey_binary_gaussian5_0
2021-12-16 18:56:26,636 - utils.dataset_utils - INFO - load dataset(light) time elapsed:0.04247201140969992
2021-12-16 18:56:26,636 - models.pytorch_cvae - INFO - feature info:[('c_acctbal', 'numerical', 6), ('c_nationkey', 'categorical', 6)]
2021-12-16 18:56:26,637 - utils.model_utils - INFO - load model name:torch_cvae_tpch-1m-customer-with-inc_c_nationkey_ld50_id100_bs1024_ep100_0_binary_gaussian5
2021-12-16 18:56:28,690 - utils.model_utils - INFO - load torch model time elapsed:2.0529127791523933
2021-12-16 18:56:28,690 - models.pytorch_cvae - INFO - load model time elapsed:2.096833135932684
2021-12-16 18:56:28,690 - utils.dataset_utils - INFO - load existing dataset(light):tpch-1m-supplier_s_nationkey#s_suppkey_s_acctbal_s_nationkey_binary_gaussian5_0
2021-12-16 18:56:28,693 - utils.dataset_utils - INFO - load dataset(light) time elapsed:0.002721088007092476
2021-12-16 18:56:28,693 - models.pytorch_cvae - INFO - feature info:[('s_acctbal', 'numerical', 6), ('s_nationkey', 'categorical', 6), ('s_suppkey', 'categorical', 15)]
2021-12-16 18:56:28,694 - utils.model_utils - INFO - load model name:torch_cvae_tpch-1m-supplier_s_nationkey_ld50_id100_bs32_ep150_0_binary_gaussian5
2021-12-16 18:56:28,695 - utils.model_utils - INFO - load torch model time elapsed:0.001439838670194149
2021-12-16 18:56:28,695 - models.pytorch_cvae - INFO - load model time elapsed:0.0049290042370557785
2021-12-16 18:56:28,695 - __main__ - INFO - multi_sampling No.0 epoch
2021-12-16 18:56:28,696 - models.pytorch_cvae - INFO - statistics sampling rate:0.08
2021-12-16 18:56:28,696 - __main__ - INFO - multi_sampling No.1 epoch
2021-12-16 18:56:28,701 - models.pytorch_cvae - INFO - statistics sampling rate:0.08
2021-12-16 18:56:28,702 - __main__ - INFO - multi_sampling No.2 epoch
2021-12-16 18:56:28,702 - models.pytorch_cvae - INFO - statistics sampling rate:0.08
2021-12-16 18:56:30,271 - models.pytorch_cvae - INFO - sampling time:1.569248527288437
2021-12-16 18:56:30,273 - models.pytorch_cvae - INFO - sampling time:1.5764263411983848
2021-12-16 18:56:30,799 - models.pytorch_cvae - INFO - sampling time:2.095596485771239
2021-12-16 18:56:31,369 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:56:31,466 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:56:31,545 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:56:31,628 - models.pytorch_cvae - INFO - sampling time:0.08199282642453909
2021-12-16 18:56:31,823 - models.pytorch_cvae - INFO - sampling time:0.35695444978773594
2021-12-16 18:56:31,827 - models.pytorch_cvae - INFO - sampling time:0.4567048205062747
2021-12-16 18:56:32,002 - __main__ - INFO - sample and aggregation time elapsed:3.299735772423446
2021-12-16 18:56:32,213 - __main__ - INFO - sample and aggregation time elapsed:3.511671523563564
2021-12-16 18:56:32,221 - __main__ - INFO - sample and aggregation time elapsed:3.5254008201882243
2021-12-16 18:56:32,226 - __main__ - INFO - sample time:3.5303652081638575
2021-12-16 18:56:32,239 - __main__ - INFO - aqp result:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           4505.76         4586.47         74986115488.41  76329188671.81 
1           4492.88         5130.50         78238605412.46  89342134954.52 
2           4533.03         4953.59         84215216289.77  92028514669.47 
3           4527.45         5032.19         84642485385.19  94078880702.33 
4           4500.23         5187.25         70959703614.27  81792505643.77 
5           4531.65         4967.31         69990651474.54  76719372153.66 
6           4504.05         4781.02         79147691528.78  84014805915.73 
7           4495.84         4661.47         77338292995.85  80187506214.76 
8           4420.97         4972.50         77605080336.61  87286614737.65 
9           4447.92         4714.41         77598375469.78  82247636189.24 
10          4504.34         4874.94         81684767809.36  88405410485.96 
11          4515.57         4477.98         81764374074.62  81083682367.35 
12          4464.40         4846.88         76800824326.90  83380532655.95 
13          4469.76         4670.13         73455330021.80  76748194014.63 
14          4507.07         4648.88         81425924211.73  83987840092.35 
15          4455.42         4697.54         72497025578.56  76436788838.01 
16          4472.71         4764.19         74682072090.15  79549060901.70 
17          4436.80         5323.92         76116470168.59  91335596742.15 
18          4461.67         4860.30         79912635607.14  87052420795.68 
19          4466.63         4496.40         75058093901.93  75558364452.71 
20          4515.15         4998.27         78916314717.28  87360379041.45 
21          4499.01         5015.43         79111361186.41  88192126399.92 
22          4460.29         5090.54         79609376968.55  90858368512.10 
23          4438.20         5517.75         75475030818.91  93833589357.68 
24          4413.72         5031.63         78617322577.86  89623393029.64 
2021-12-16 18:56:32,242 - __main__ - INFO - ground truth:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           4495.08         4750.47         74808300307.97  79058543738.51 
1           4481.35         5156.38         78037804737.42  89792862870.19 
2           4500.11         4926.83         83603605816.42  91531433246.36 
3           4501.52         4976.52         84157817962.92  93037962787.86 
4           4481.25         4955.13         70660420363.18  78132509824.90 
5           4506.27         5017.03         69598653692.12  77487270820.80 
6           4487.10         5263.09         78849876383.14  92485978451.44 
7           4480.55         4725.51         77075278088.26  81289117007.37 
8           4500.54         4898.26         79001842301.71  85983328363.66 
9           4508.52         5056.46         78655627222.94  88215027610.30 
10          4518.18         4934.04         81935710769.84  89477117315.13 
11          4512.10         4846.61         81701543083.81  87758487179.40 
12          4496.61         4905.97         77354913969.64  84397069733.16 
13          4506.92         4967.01         74066058944.76  81627052771.36 
14          4482.32         4748.57         80978762526.42  85788910922.73 
15          4515.02         4993.59         73466872175.01  81253978684.79 
16          4511.16         5125.84         75324113973.83  85587620982.90 
17          4471.53         5194.81         76712255703.01  89120736244.02 
18          4468.37         5153.13         80032519501.53  92297274686.32 
19          4490.91         4865.91         75466160926.82  81767784036.93 
20          4494.50         5210.90         78555417820.06  91076766492.73 
21          4497.21         5087.25         79079595482.76  89454975198.84 
22          4529.54         4945.33         80845288221.60  88266586724.51 
23          4489.35         4974.00         76344790639.43  84586573926.78 
24          4516.77         5065.90         80452749791.40  90233921611.59 
2021-12-16 18:56:32,254 - __main__ - INFO - relative error:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           0.00            0.03            0.00            0.03           
1           0.00            0.01            0.00            0.01           
2           0.01            0.01            0.01            0.01           
3           0.01            0.01            0.01            0.01           
4           0.00            0.05            0.00            0.05           
5           0.01            0.01            0.01            0.01           
6           0.00            0.09            0.00            0.09           
7           0.00            0.01            0.00            0.01           
8           0.02            0.02            0.02            0.02           
9           0.01            0.07            0.01            0.07           
10          0.00            0.01            0.00            0.01           
11          0.00            0.08            0.00            0.08           
12          0.01            0.01            0.01            0.01           
13          0.01            0.06            0.01            0.06           
14          0.01            0.02            0.01            0.02           
15          0.01            0.06            0.01            0.06           
16          0.01            0.07            0.01            0.07           
17          0.01            0.02            0.01            0.02           
18          0.00            0.06            0.00            0.06           
19          0.01            0.08            0.01            0.08           
20          0.00            0.04            0.00            0.04           
21          0.00            0.01            0.00            0.01           
22          0.02            0.03            0.02            0.03           
23          0.01            0.11            0.01            0.11           
24          0.02            0.01            0.02            0.01           
2021-12-16 18:56:32,254 - __main__ - INFO - relative error average :0.023027810476074374
2021-12-16 18:56:32,254 - __main__ - INFO - relative error normalized average :0.022422286419014933
2021-12-16 18:56:32,254 - __main__ - INFO - relative error var normalized average :0.003318052448464376
2021-12-16 18:56:32,254 - __main__ - INFO - total_time:5.661355462856591
