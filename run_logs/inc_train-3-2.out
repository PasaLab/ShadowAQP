main.py:20: FutureWarning: Passing a negative integer is deprecated in version 1.0 and will not be supported in future version. Instead, use None to not limit the column width.
  pd.set_option('max_colwidth', -1)
2021-12-16 18:59:10,662 - __main__ - INFO - load query config config/query/customer_with_inc_join_supplier.json successfully
2021-12-16 18:59:10,662 - __main__ - INFO - load train config ./config/train/tpch_customer_with_inc_torch_cvae.json successfully
2021-12-16 18:59:10,662 - __main__ - INFO - load train config ./config/train/tpch_supplier_torch_cvae.json successfully
2021-12-16 18:59:10,662 - utils.dataset_utils - INFO - load existing dataset(light):tpch-1m-customer-with-inc_c_nationkey_c_acctbal_c_nationkey_binary_gaussian5_0inc_train
2021-12-16 18:59:13,511 - utils.dataset_utils - INFO - load dataset(light) time elapsed:2.848431612364948
2021-12-16 18:59:13,511 - models.pytorch_cvae - INFO - feature info:[('c_acctbal', 'numerical', 6), ('c_nationkey', 'categorical', 6)]
2021-12-16 18:59:13,512 - utils.model_utils - INFO - load model name:torch_cvae_tpch-1m-customer-with-inc_c_nationkey_ld50_id100_bs1024_ep100_0_binary_gaussian5inc_train
2021-12-16 18:59:13,516 - utils.model_utils - INFO - load torch model time elapsed:0.004649666137993336
2021-12-16 18:59:13,516 - models.pytorch_cvae - INFO - load model time elapsed:2.854415003210306
2021-12-16 18:59:13,516 - utils.dataset_utils - INFO - load existing dataset(light):tpch-1m-supplier_s_nationkey#s_suppkey_s_acctbal_s_nationkey_binary_gaussian5_0
2021-12-16 18:59:13,519 - utils.dataset_utils - INFO - load dataset(light) time elapsed:0.002874954603612423
2021-12-16 18:59:13,519 - models.pytorch_cvae - INFO - feature info:[('s_acctbal', 'numerical', 6), ('s_nationkey', 'categorical', 6), ('s_suppkey', 'categorical', 15)]
2021-12-16 18:59:13,520 - utils.model_utils - INFO - load model name:torch_cvae_tpch-1m-supplier_s_nationkey_ld50_id100_bs32_ep150_0_binary_gaussian5
2021-12-16 18:59:13,521 - utils.model_utils - INFO - load torch model time elapsed:0.0013638930395245552
2021-12-16 18:59:13,521 - models.pytorch_cvae - INFO - load model time elapsed:0.004890527576208115
2021-12-16 18:59:13,521 - __main__ - INFO - multi_sampling No.0 epoch
2021-12-16 18:59:13,522 - models.pytorch_cvae - INFO - statistics sampling rate:0.03
2021-12-16 18:59:13,522 - __main__ - INFO - multi_sampling No.1 epoch
2021-12-16 18:59:13,528 - models.pytorch_cvae - INFO - statistics sampling rate:0.03
2021-12-16 18:59:13,529 - __main__ - INFO - multi_sampling No.2 epoch
2021-12-16 18:59:13,530 - models.pytorch_cvae - INFO - statistics sampling rate:0.03
2021-12-16 18:59:14,525 - models.pytorch_cvae - INFO - sampling time:0.9951491095125675
2021-12-16 18:59:14,529 - models.pytorch_cvae - INFO - sampling time:1.0000641960650682
2021-12-16 18:59:14,899 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:59:14,910 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:59:14,926 - models.pytorch_cvae - INFO - sampling time:1.4034543866291642
2021-12-16 18:59:15,015 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:59:15,100 - models.pytorch_cvae - INFO - sampling time:0.08539261762052774
2021-12-16 18:59:15,215 - models.pytorch_cvae - INFO - sampling time:0.3130250507965684
2021-12-16 18:59:15,266 - models.pytorch_cvae - INFO - sampling time:0.3563852021470666
2021-12-16 18:59:15,306 - __main__ - INFO - sample and aggregation time elapsed:1.7844844441860914
2021-12-16 18:59:15,402 - __main__ - INFO - sample and aggregation time elapsed:1.8743783915415406
2021-12-16 18:59:15,430 - __main__ - INFO - sample and aggregation time elapsed:1.899946122430265
2021-12-16 18:59:15,434 - __main__ - INFO - sample time:1.9128604047000408
2021-12-16 18:59:15,449 - __main__ - INFO - aqp result:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           4376.92         4654.68         94775582734.50  100790219977.00
1           4374.04         5014.71         99151951881.17  113674778805.87
2           4459.02         5184.84         107715481426.85 125248888944.19
3           4423.40         4823.29         107937969608.11 117695937540.83
4           4380.33         5274.60         90125951972.39  108525715007.23
5           4436.92         5122.48         89279666766.16  103074538102.74
6           4399.78         4591.13         100512007354.01 104883282804.51
7           4425.71         5254.61         99004281744.70  117547082937.92
8           4366.18         4918.75         99337331279.28  111909029430.35
9           4371.73         4928.72         98954467048.08  111561896897.73
10          4379.50         4820.38         103457930347.21 113872867988.94
11          4468.35         4778.17         105237090587.87 112533870821.41
12          4478.60         4805.80         99955570877.84  107258163353.89
13          4447.92         4918.70         95104888515.78  105170943334.87
14          4438.41         4880.83         104417773497.91 114826186706.09
15          4407.51         4727.57         93414444477.91  100197939418.31
16          4445.98         4418.43         96713730666.16  96114435715.94 
17          4385.02         4851.72         97730776998.57  108132204492.27
18          4362.95         4868.16         101603808854.53 113369249160.20
19          4416.19         4938.10         96445886891.69  107843979465.40
20          4419.99         4863.68         100409684224.70 110489239457.08
21          4452.56         4935.61         102068539610.93 113141725685.77
22          4443.38         5360.59         103088543498.55 124368181646.63
23          4462.28         4659.69         98701732225.63  103068377070.74
24          4325.32         5342.05         100166775610.41 123712547368.94
2021-12-16 18:59:15,452 - __main__ - INFO - ground truth:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           4489.09         4750.47         97204429060.11  102864283639.34
1           4478.58         5156.38         101521631809.03 116886387814.97
2           4502.84         4926.83         108773860934.93 119016293073.25
3           4510.50         4976.52         110063319836.95 121434781349.97
4           4467.80         4955.13         91925727389.56  101952561544.09
5           4506.93         5017.03         90688332145.90  100952499397.81
6           4489.99         5263.09         102572805214.01 120234077220.52
7           4481.97         4725.51         100262969999.54 105711043954.64
8           4491.71         4898.26         102193355822.35 111442904344.11
9           4507.31         5056.46         102023357487.12 114453365970.99
10          4514.20         4934.04         106640129528.12 116557963141.05
11          4509.51         4846.61         106206568975.75 114145706219.45
12          4495.81         4905.97         100339620692.57 109493748108.56
13          4519.66         4967.01         96638723186.87  106203971323.94
14          4489.09         4748.57         105610059556.98 111714619054.55
15          4513.94         4993.59         95670237506.21  105836044024.01
16          4509.69         5125.84         98099691841.22  111502795597.57
17          4476.99         5194.81         99780562278.61  115778956973.10
18          4470.09         5153.13         104098927638.07 120005532950.10
19          4480.83         4865.91         97857583891.19  106267463992.76
20          4505.29         5210.90         102347462434.85 118377097752.18
21          4500.84         5087.25         103175299651.56 116617824864.37
22          4522.71         4945.33         104928946224.34 114733990724.54
23          4492.85         4974.00         99377984303.50  110020479238.93
24          4507.26         5065.90         104380144828.63 117317398620.77
2021-12-16 18:59:15,464 - __main__ - INFO - relative error:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           0.02            0.02            0.02            0.02           
1           0.02            0.03            0.02            0.03           
2           0.01            0.05            0.01            0.05           
3           0.02            0.03            0.02            0.03           
4           0.02            0.06            0.02            0.06           
5           0.02            0.02            0.02            0.02           
6           0.02            0.13            0.02            0.13           
7           0.01            0.11            0.01            0.11           
8           0.03            0.00            0.03            0.00           
9           0.03            0.03            0.03            0.03           
10          0.03            0.02            0.03            0.02           
11          0.01            0.01            0.01            0.01           
12          0.00            0.02            0.00            0.02           
13          0.02            0.01            0.02            0.01           
14          0.01            0.03            0.01            0.03           
15          0.02            0.05            0.02            0.05           
16          0.01            0.14            0.01            0.14           
17          0.02            0.07            0.02            0.07           
18          0.02            0.06            0.02            0.06           
19          0.01            0.01            0.01            0.01           
20          0.02            0.07            0.02            0.07           
21          0.01            0.03            0.01            0.03           
22          0.02            0.08            0.02            0.08           
23          0.01            0.06            0.01            0.06           
24          0.04            0.05            0.04            0.05           
2021-12-16 18:59:15,464 - __main__ - INFO - relative error average :0.033404571276305445
2021-12-16 18:59:15,464 - __main__ - INFO - relative error normalized average :0.032432092036970075
2021-12-16 18:59:15,464 - __main__ - INFO - relative error var normalized average :0.005740788665295648
2021-12-16 18:59:15,466 - __main__ - INFO - total_time:4.804459587670863
