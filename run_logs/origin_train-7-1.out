main.py:20: FutureWarning: Passing a negative integer is deprecated in version 1.0 and will not be supported in future version. Instead, use None to not limit the column width.
  pd.set_option('max_colwidth', -1)
2021-12-16 18:55:54,094 - __main__ - INFO - load query config config/query/customer_with_inc_join_supplier.json successfully
2021-12-16 18:55:54,094 - __main__ - INFO - load train config ./config/train/tpch_customer_with_inc_torch_cvae.json successfully
2021-12-16 18:55:54,094 - __main__ - INFO - load train config ./config/train/tpch_supplier_torch_cvae.json successfully
2021-12-16 18:55:54,094 - utils.dataset_utils - INFO - load existing dataset(light):tpch-1m-customer-with-inc_c_nationkey_c_acctbal_c_nationkey_binary_gaussian5_0
2021-12-16 18:55:54,138 - utils.dataset_utils - INFO - load dataset(light) time elapsed:0.04332386329770088
2021-12-16 18:55:54,138 - models.pytorch_cvae - INFO - feature info:[('c_acctbal', 'numerical', 6), ('c_nationkey', 'categorical', 6)]
2021-12-16 18:55:54,139 - utils.model_utils - INFO - load model name:torch_cvae_tpch-1m-customer-with-inc_c_nationkey_ld50_id100_bs1024_ep100_0_binary_gaussian5
2021-12-16 18:55:56,193 - utils.model_utils - INFO - load torch model time elapsed:2.053696452639997
2021-12-16 18:55:56,193 - models.pytorch_cvae - INFO - load model time elapsed:2.0984706059098244
2021-12-16 18:55:56,193 - utils.dataset_utils - INFO - load existing dataset(light):tpch-1m-supplier_s_nationkey#s_suppkey_s_acctbal_s_nationkey_binary_gaussian5_0
2021-12-16 18:55:56,196 - utils.dataset_utils - INFO - load dataset(light) time elapsed:0.0026305317878723145
2021-12-16 18:55:56,196 - models.pytorch_cvae - INFO - feature info:[('s_acctbal', 'numerical', 6), ('s_nationkey', 'categorical', 6), ('s_suppkey', 'categorical', 15)]
2021-12-16 18:55:56,196 - utils.model_utils - INFO - load model name:torch_cvae_tpch-1m-supplier_s_nationkey_ld50_id100_bs32_ep150_0_binary_gaussian5
2021-12-16 18:55:56,198 - utils.model_utils - INFO - load torch model time elapsed:0.0013697147369384766
2021-12-16 18:55:56,198 - models.pytorch_cvae - INFO - load model time elapsed:0.004723310470581055
2021-12-16 18:55:56,198 - __main__ - INFO - multi_sampling No.0 epoch
2021-12-16 18:55:56,198 - models.pytorch_cvae - INFO - statistics sampling rate:0.07
2021-12-16 18:55:56,198 - __main__ - INFO - multi_sampling No.1 epoch
2021-12-16 18:55:56,204 - models.pytorch_cvae - INFO - statistics sampling rate:0.07
2021-12-16 18:55:56,204 - __main__ - INFO - multi_sampling No.2 epoch
2021-12-16 18:55:56,205 - models.pytorch_cvae - INFO - statistics sampling rate:0.07
2021-12-16 18:55:57,549 - models.pytorch_cvae - INFO - sampling time:1.3503221226856112
2021-12-16 18:55:57,604 - models.pytorch_cvae - INFO - sampling time:1.3981692884117365
2021-12-16 18:55:58,092 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:55:58,185 - models.pytorch_cvae - INFO - sampling time:1.9803257286548615
2021-12-16 18:55:58,285 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:55:58,403 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:55:58,459 - models.pytorch_cvae - INFO - sampling time:0.17344386596232653
2021-12-16 18:55:58,534 - models.pytorch_cvae - INFO - sampling time:0.4416125128045678
2021-12-16 18:55:58,600 - models.pytorch_cvae - INFO - sampling time:0.19701644964516163
2021-12-16 18:55:58,765 - __main__ - INFO - sample and aggregation time elapsed:2.566917944699526
2021-12-16 18:55:58,838 - __main__ - INFO - sample and aggregation time elapsed:2.6333370758220553
2021-12-16 18:55:58,880 - __main__ - INFO - sample and aggregation time elapsed:2.6767214806750417
2021-12-16 18:55:58,885 - __main__ - INFO - sample time:2.6872425731271505
2021-12-16 18:55:58,897 - __main__ - INFO - aqp result:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           4483.59         5118.06         74617027662.52  85176031476.90 
1           4489.08         5304.54         78172400462.77  92372867277.41 
2           4523.08         4798.29         84030367548.48  89143402550.32 
3           4465.19         4864.96         83478468243.74  90952427331.23 
4           4433.93         5250.98         69914290405.14  82797553023.29 
5           4506.55         5225.62         69603008651.94  80708965551.58 
6           4446.41         4611.21         78134831276.41  81030848649.83 
7           4514.71         4640.94         77662872755.57  79834230696.38 
8           4506.49         4853.04         79106286816.02  85189541147.23 
9           4484.04         5231.75         78228591627.40  91273081376.29 
10          4477.24         4783.89         81193143346.22  86754180317.10 
11          4479.47         4127.13         81110703128.15  74730722353.80 
12          4527.89         4931.97         77892978319.24  84844359806.53 
13          4467.66         5117.79         73420760502.10  84104843816.84 
14          4458.17         4886.84         80542528356.16  88287008376.96 
15          4506.92         4997.35         73334984192.68  81315173230.68 
16          4494.04         5128.25         75038167009.42  85627860144.80 
17          4425.90         5080.23         75929411009.13  87154875035.78 
18          4479.35         4861.65         80229311751.78  87076515930.61 
19          4490.03         4871.57         75451378469.99  81862904629.79 
20          4456.70         4745.88         77894723738.91  82949094858.58 
21          4491.14         4857.87         78972997561.99  85421523170.04 
22          4504.20         4798.89         80393143292.86  85652894558.41 
23          4496.80         4964.78         76471490151.64  84429768606.02 
24          4460.33         5251.60         79447498314.81  93541541736.72 
2021-12-16 18:55:58,900 - __main__ - INFO - ground truth:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           4495.08         4750.47         74808300307.97  79058543738.51 
1           4481.35         5156.38         78037804737.42  89792862870.19 
2           4500.11         4926.83         83603605816.42  91531433246.36 
3           4501.52         4976.52         84157817962.92  93037962787.86 
4           4481.25         4955.13         70660420363.18  78132509824.90 
5           4506.27         5017.03         69598653692.12  77487270820.80 
6           4487.10         5263.09         78849876383.14  92485978451.44 
7           4480.55         4725.51         77075278088.26  81289117007.37 
8           4500.54         4898.26         79001842301.71  85983328363.66 
9           4508.52         5056.46         78655627222.94  88215027610.30 
10          4518.18         4934.04         81935710769.84  89477117315.13 
11          4512.10         4846.61         81701543083.81  87758487179.40 
12          4496.61         4905.97         77354913969.64  84397069733.16 
13          4506.92         4967.01         74066058944.76  81627052771.36 
14          4482.32         4748.57         80978762526.42  85788910922.73 
15          4515.02         4993.59         73466872175.01  81253978684.79 
16          4511.16         5125.84         75324113973.83  85587620982.90 
17          4471.53         5194.81         76712255703.01  89120736244.02 
18          4468.37         5153.13         80032519501.53  92297274686.32 
19          4490.91         4865.91         75466160926.82  81767784036.93 
20          4494.50         5210.90         78555417820.06  91076766492.73 
21          4497.21         5087.25         79079595482.76  89454975198.84 
22          4529.54         4945.33         80845288221.60  88266586724.51 
23          4489.35         4974.00         76344790639.43  84586573926.78 
24          4516.77         5065.90         80452749791.40  90233921611.59 
2021-12-16 18:55:58,911 - __main__ - INFO - relative error:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           0.00            0.08            0.00            0.08           
1           0.00            0.03            0.00            0.03           
2           0.01            0.03            0.01            0.03           
3           0.01            0.02            0.01            0.02           
4           0.01            0.06            0.01            0.06           
5           0.00            0.04            0.00            0.04           
6           0.01            0.12            0.01            0.12           
7           0.01            0.02            0.01            0.02           
8           0.00            0.01            0.00            0.01           
9           0.01            0.03            0.01            0.03           
10          0.01            0.03            0.01            0.03           
11          0.01            0.15            0.01            0.15           
12          0.01            0.01            0.01            0.01           
13          0.01            0.03            0.01            0.03           
14          0.01            0.03            0.01            0.03           
15          0.00            0.00            0.00            0.00           
16          0.00            0.00            0.00            0.00           
17          0.01            0.02            0.01            0.02           
18          0.00            0.06            0.00            0.06           
19          0.00            0.00            0.00            0.00           
20          0.01            0.09            0.01            0.09           
21          0.00            0.05            0.00            0.05           
22          0.01            0.03            0.01            0.03           
23          0.00            0.00            0.00            0.00           
24          0.01            0.04            0.01            0.04           
2021-12-16 18:55:58,911 - __main__ - INFO - relative error average :0.02211002291473808
2021-12-16 18:55:58,911 - __main__ - INFO - relative error normalized average :0.021413559325810877
2021-12-16 18:55:58,912 - __main__ - INFO - relative error var normalized average :0.003942956111772449
2021-12-16 18:55:58,913 - __main__ - INFO - total_time:4.818907547742128
