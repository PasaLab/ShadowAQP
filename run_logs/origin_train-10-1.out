main.py:20: FutureWarning: Passing a negative integer is deprecated in version 1.0 and will not be supported in future version. Instead, use None to not limit the column width.
  pd.set_option('max_colwidth', -1)
2021-12-16 18:57:11,809 - __main__ - INFO - load query config config/query/customer_with_inc_join_supplier.json successfully
2021-12-16 18:57:11,809 - __main__ - INFO - load train config ./config/train/tpch_customer_with_inc_torch_cvae.json successfully
2021-12-16 18:57:11,809 - __main__ - INFO - load train config ./config/train/tpch_supplier_torch_cvae.json successfully
2021-12-16 18:57:11,809 - utils.dataset_utils - INFO - load existing dataset(light):tpch-1m-customer-with-inc_c_nationkey_c_acctbal_c_nationkey_binary_gaussian5_0
2021-12-16 18:57:11,848 - utils.dataset_utils - INFO - load dataset(light) time elapsed:0.03842558152973652
2021-12-16 18:57:11,848 - models.pytorch_cvae - INFO - feature info:[('c_acctbal', 'numerical', 6), ('c_nationkey', 'categorical', 6)]
2021-12-16 18:57:11,849 - utils.model_utils - INFO - load model name:torch_cvae_tpch-1m-customer-with-inc_c_nationkey_ld50_id100_bs1024_ep100_0_binary_gaussian5
2021-12-16 18:57:13,980 - utils.model_utils - INFO - load torch model time elapsed:2.1305118836462498
2021-12-16 18:57:13,980 - models.pytorch_cvae - INFO - load model time elapsed:2.1703727459535003
2021-12-16 18:57:13,980 - utils.dataset_utils - INFO - load existing dataset(light):tpch-1m-supplier_s_nationkey#s_suppkey_s_acctbal_s_nationkey_binary_gaussian5_0
2021-12-16 18:57:13,983 - utils.dataset_utils - INFO - load dataset(light) time elapsed:0.0031422246247529984
2021-12-16 18:57:13,983 - models.pytorch_cvae - INFO - feature info:[('s_acctbal', 'numerical', 6), ('s_nationkey', 'categorical', 6), ('s_suppkey', 'categorical', 15)]
2021-12-16 18:57:13,984 - utils.model_utils - INFO - load model name:torch_cvae_tpch-1m-supplier_s_nationkey_ld50_id100_bs32_ep150_0_binary_gaussian5
2021-12-16 18:57:13,988 - utils.model_utils - INFO - load torch model time elapsed:0.004334514029324055
2021-12-16 18:57:13,988 - models.pytorch_cvae - INFO - load model time elapsed:0.008191663771867752
2021-12-16 18:57:13,988 - __main__ - INFO - multi_sampling No.0 epoch
2021-12-16 18:57:13,989 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:57:13,989 - __main__ - INFO - multi_sampling No.1 epoch
2021-12-16 18:57:13,995 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:57:13,995 - __main__ - INFO - multi_sampling No.2 epoch
2021-12-16 18:57:13,997 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:57:15,564 - models.pytorch_cvae - INFO - sampling time:1.5753629337996244
2021-12-16 18:57:15,648 - models.pytorch_cvae - INFO - sampling time:1.6511007780209184
2021-12-16 18:57:16,630 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:57:16,633 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:57:16,835 - models.pytorch_cvae - INFO - sampling time:2.8397555286064744
2021-12-16 18:57:17,091 - models.pytorch_cvae - INFO - sampling time:0.4577369876205921
2021-12-16 18:57:17,250 - models.pytorch_cvae - INFO - sampling time:0.6193234454840422
2021-12-16 18:57:17,293 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:57:17,414 - models.pytorch_cvae - INFO - sampling time:0.12000219337642193
2021-12-16 18:57:17,630 - __main__ - INFO - sample and aggregation time elapsed:3.641622190363705
2021-12-16 18:57:17,701 - __main__ - INFO - sample and aggregation time elapsed:3.70438093226403
2021-12-16 18:57:17,848 - __main__ - INFO - sample and aggregation time elapsed:3.852936410345137
2021-12-16 18:57:17,853 - __main__ - INFO - sample time:3.8645657412707806
2021-12-16 18:57:17,866 - __main__ - INFO - aqp result:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           4503.32         4984.44         74945476173.12  82952293543.30 
1           4531.25         5260.39         78906740743.36  91603985685.00 
2           4465.34         5091.03         82957725705.84  94581964138.44 
3           4512.11         4536.46         84355659491.52  84810942135.34 
4           4505.36         4744.86         71040608858.91  74816911896.22 
5           4507.59         4898.80         69619123757.33  75661281809.61 
6           4515.22         5028.09         79344008536.14  88356351747.63 
7           4511.25         4513.84         77603338936.10  77647836511.09 
8           4468.58         4768.70         78440714707.13  83709129794.14 
9           4516.25         5000.76         78790446451.66  87243255551.42 
10          4498.80         4873.25         81584259910.75  88374808524.34 
11          4534.33         4656.83         82104090789.25  84322075451.07 
12          4480.15         4824.92         77071697081.84  83002761284.60 
13          4473.19         5637.96         73511677825.01  92653365910.63 
14          4526.71         5058.00         81780807801.26  91379121060.07 
15          4489.99         4944.54         73059611003.37  80455927943.14 
16          4508.37         5201.88         75277539291.79  86857254779.43 
17          4488.83         4980.20         77009074472.92  85438816241.56 
18          4477.87         4997.85         80202747703.98  89516020097.79 
19          4499.85         5233.38         75616329064.24  87942731568.20 
20          4491.76         4973.50         78507437314.67  86927452875.48 
21          4492.19         5029.45         78991427188.27  88438598740.70 
22          4474.39         4934.49         79861012451.40  88073064631.57 
23          4485.02         5070.08         76271152133.58  86220465738.01 
24          4490.24         4972.11         79980147230.36  88563254086.55 
2021-12-16 18:57:17,869 - __main__ - INFO - ground truth:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           4495.08         4750.47         74808300307.97  79058543738.51 
1           4481.35         5156.38         78037804737.42  89792862870.19 
2           4500.11         4926.83         83603605816.42  91531433246.36 
3           4501.52         4976.52         84157817962.92  93037962787.86 
4           4481.25         4955.13         70660420363.18  78132509824.90 
5           4506.27         5017.03         69598653692.12  77487270820.80 
6           4487.10         5263.09         78849876383.14  92485978451.44 
7           4480.55         4725.51         77075278088.26  81289117007.37 
8           4500.54         4898.26         79001842301.71  85983328363.66 
9           4508.52         5056.46         78655627222.94  88215027610.30 
10          4518.18         4934.04         81935710769.84  89477117315.13 
11          4512.10         4846.61         81701543083.81  87758487179.40 
12          4496.61         4905.97         77354913969.64  84397069733.16 
13          4506.92         4967.01         74066058944.76  81627052771.36 
14          4482.32         4748.57         80978762526.42  85788910922.73 
15          4515.02         4993.59         73466872175.01  81253978684.79 
16          4511.16         5125.84         75324113973.83  85587620982.90 
17          4471.53         5194.81         76712255703.01  89120736244.02 
18          4468.37         5153.13         80032519501.53  92297274686.32 
19          4490.91         4865.91         75466160926.82  81767784036.93 
20          4494.50         5210.90         78555417820.06  91076766492.73 
21          4497.21         5087.25         79079595482.76  89454975198.84 
22          4529.54         4945.33         80845288221.60  88266586724.51 
23          4489.35         4974.00         76344790639.43  84586573926.78 
24          4516.77         5065.90         80452749791.40  90233921611.59 
2021-12-16 18:57:17,880 - __main__ - INFO - relative error:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           0.00            0.05            0.00            0.05           
1           0.01            0.02            0.01            0.02           
2           0.01            0.03            0.01            0.03           
3           0.00            0.09            0.00            0.09           
4           0.01            0.04            0.01            0.04           
5           0.00            0.02            0.00            0.02           
6           0.01            0.04            0.01            0.04           
7           0.01            0.04            0.01            0.04           
8           0.01            0.03            0.01            0.03           
9           0.00            0.01            0.00            0.01           
10          0.00            0.01            0.00            0.01           
11          0.00            0.04            0.00            0.04           
12          0.00            0.02            0.00            0.02           
13          0.01            0.14            0.01            0.14           
14          0.01            0.07            0.01            0.07           
15          0.01            0.01            0.01            0.01           
16          0.00            0.01            0.00            0.01           
17          0.00            0.04            0.00            0.04           
18          0.00            0.03            0.00            0.03           
19          0.00            0.08            0.00            0.08           
20          0.00            0.05            0.00            0.05           
21          0.00            0.01            0.00            0.01           
22          0.01            0.00            0.01            0.00           
23          0.00            0.02            0.00            0.02           
24          0.01            0.02            0.01            0.02           
2021-12-16 18:57:17,880 - __main__ - INFO - relative error average :0.02073405672529855
2021-12-16 18:57:17,880 - __main__ - INFO - relative error normalized average :0.02019138856640863
2021-12-16 18:57:17,880 - __main__ - INFO - relative error var normalized average :0.003024676113006549
2021-12-16 18:57:17,881 - __main__ - INFO - total_time:6.071761399507523
