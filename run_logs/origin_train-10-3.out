main.py:20: FutureWarning: Passing a negative integer is deprecated in version 1.0 and will not be supported in future version. Instead, use None to not limit the column width.
  pd.set_option('max_colwidth', -1)
2021-12-16 18:57:30,525 - __main__ - INFO - load query config config/query/customer_with_inc_join_supplier.json successfully
2021-12-16 18:57:30,525 - __main__ - INFO - load train config ./config/train/tpch_customer_with_inc_torch_cvae.json successfully
2021-12-16 18:57:30,525 - __main__ - INFO - load train config ./config/train/tpch_supplier_torch_cvae.json successfully
2021-12-16 18:57:30,525 - utils.dataset_utils - INFO - load existing dataset(light):tpch-1m-customer-with-inc_c_nationkey_c_acctbal_c_nationkey_binary_gaussian5_0
2021-12-16 18:57:30,564 - utils.dataset_utils - INFO - load dataset(light) time elapsed:0.03829250484704971
2021-12-16 18:57:30,564 - models.pytorch_cvae - INFO - feature info:[('c_acctbal', 'numerical', 6), ('c_nationkey', 'categorical', 6)]
2021-12-16 18:57:30,565 - utils.model_utils - INFO - load model name:torch_cvae_tpch-1m-customer-with-inc_c_nationkey_ld50_id100_bs1024_ep100_0_binary_gaussian5
2021-12-16 18:57:32,696 - utils.model_utils - INFO - load torch model time elapsed:2.1305734468623996
2021-12-16 18:57:32,696 - models.pytorch_cvae - INFO - load model time elapsed:2.1703694509342313
2021-12-16 18:57:32,696 - utils.dataset_utils - INFO - load existing dataset(light):tpch-1m-supplier_s_nationkey#s_suppkey_s_acctbal_s_nationkey_binary_gaussian5_0
2021-12-16 18:57:32,699 - utils.dataset_utils - INFO - load dataset(light) time elapsed:0.003139822743833065
2021-12-16 18:57:32,699 - models.pytorch_cvae - INFO - feature info:[('s_acctbal', 'numerical', 6), ('s_nationkey', 'categorical', 6), ('s_suppkey', 'categorical', 15)]
2021-12-16 18:57:32,700 - utils.model_utils - INFO - load model name:torch_cvae_tpch-1m-supplier_s_nationkey_ld50_id100_bs32_ep150_0_binary_gaussian5
2021-12-16 18:57:32,704 - utils.model_utils - INFO - load torch model time elapsed:0.003964831121265888
2021-12-16 18:57:32,704 - models.pytorch_cvae - INFO - load model time elapsed:0.007814480923116207
2021-12-16 18:57:32,704 - __main__ - INFO - multi_sampling No.0 epoch
2021-12-16 18:57:32,704 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:57:32,704 - __main__ - INFO - multi_sampling No.1 epoch
2021-12-16 18:57:32,711 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:57:32,711 - __main__ - INFO - multi_sampling No.2 epoch
2021-12-16 18:57:32,712 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:57:34,076 - models.pytorch_cvae - INFO - sampling time:1.3720291266217828
2021-12-16 18:57:34,079 - models.pytorch_cvae - INFO - sampling time:1.3681347351521254
2021-12-16 18:57:34,776 - models.pytorch_cvae - INFO - sampling time:2.063873466104269
2021-12-16 18:57:35,727 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:57:35,728 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:57:35,745 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:57:35,843 - models.pytorch_cvae - INFO - sampling time:0.0983896441757679
2021-12-16 18:57:35,973 - models.pytorch_cvae - INFO - sampling time:0.24289453867822886
2021-12-16 18:57:36,047 - models.pytorch_cvae - INFO - sampling time:0.31914004776626825
2021-12-16 18:57:36,425 - __main__ - INFO - sample and aggregation time elapsed:3.713183119893074
2021-12-16 18:57:36,520 - __main__ - INFO - sample and aggregation time elapsed:3.81630243267864
2021-12-16 18:57:36,580 - __main__ - INFO - sample and aggregation time elapsed:3.869771652854979
2021-12-16 18:57:36,585 - __main__ - INFO - sample time:3.8811131045222282
2021-12-16 18:57:36,598 - __main__ - INFO - aqp result:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           4512.32         5104.04         75095265010.42  84942834856.55 
1           4503.90         5148.07         78430507649.81  89648016485.46 
2           4511.14         5220.69         83808602857.59  96990755682.09 
3           4508.61         4804.09         84290302452.26  89814466079.09 
4           4516.11         4259.09         71210084770.34  67157340915.40 
5           4546.17         5342.23         70214960824.34  82510027624.05 
6           4484.12         5301.07         78797401735.95  93153337558.91 
7           4529.22         5380.49         77912522940.18  92556182453.81 
8           4493.19         4478.13         78872746943.34  78608433339.81 
9           4517.39         5057.45         78810342198.66  88232368491.08 
10          4507.43         4925.13         81740671936.29  89315575729.23 
11          4525.49         4716.82         81943991466.28  85408359628.91 
12          4492.19         5081.78         77278863764.60  87421452035.27 
13          4458.96         4588.80         73277778219.83  75411632194.33 
14          4522.36         4726.69         81702141733.56  85393667922.34 
15          4455.08         4705.24         72491475685.65  76562011236.15 
16          4454.11         5351.11         74371520219.96  89348977303.35 
17          4441.44         5008.22         76196090607.41  85919644555.80 
18          4478.51         4525.62         80214210413.17  81057939361.97 
19          4481.07         4898.23         75300744310.44  82310832897.87 
20          4500.27         4976.94         78656310082.13  86987551551.65 
21          4467.51         5103.29         78557458545.81  89737130698.13 
22          4458.16         5251.14         79571276325.25  93724919715.42 
23          4516.39         4730.71         76804612144.57  80449238898.01 
24          4448.00         5213.40         79227922589.87  92861242464.22 
2021-12-16 18:57:36,601 - __main__ - INFO - ground truth:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           4495.08         4750.47         74808300307.97  79058543738.51 
1           4481.35         5156.38         78037804737.42  89792862870.19 
2           4500.11         4926.83         83603605816.42  91531433246.36 
3           4501.52         4976.52         84157817962.92  93037962787.86 
4           4481.25         4955.13         70660420363.18  78132509824.90 
5           4506.27         5017.03         69598653692.12  77487270820.80 
6           4487.10         5263.09         78849876383.14  92485978451.44 
7           4480.55         4725.51         77075278088.26  81289117007.37 
8           4500.54         4898.26         79001842301.71  85983328363.66 
9           4508.52         5056.46         78655627222.94  88215027610.30 
10          4518.18         4934.04         81935710769.84  89477117315.13 
11          4512.10         4846.61         81701543083.81  87758487179.40 
12          4496.61         4905.97         77354913969.64  84397069733.16 
13          4506.92         4967.01         74066058944.76  81627052771.36 
14          4482.32         4748.57         80978762526.42  85788910922.73 
15          4515.02         4993.59         73466872175.01  81253978684.79 
16          4511.16         5125.84         75324113973.83  85587620982.90 
17          4471.53         5194.81         76712255703.01  89120736244.02 
18          4468.37         5153.13         80032519501.53  92297274686.32 
19          4490.91         4865.91         75466160926.82  81767784036.93 
20          4494.50         5210.90         78555417820.06  91076766492.73 
21          4497.21         5087.25         79079595482.76  89454975198.84 
22          4529.54         4945.33         80845288221.60  88266586724.51 
23          4489.35         4974.00         76344790639.43  84586573926.78 
24          4516.77         5065.90         80452749791.40  90233921611.59 
2021-12-16 18:57:36,612 - __main__ - INFO - relative error:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           0.00            0.07            0.00            0.07           
1           0.01            0.00            0.01            0.00           
2           0.00            0.06            0.00            0.06           
3           0.00            0.03            0.00            0.03           
4           0.01            0.14            0.01            0.14           
5           0.01            0.06            0.01            0.06           
6           0.00            0.01            0.00            0.01           
7           0.01            0.14            0.01            0.14           
8           0.00            0.09            0.00            0.09           
9           0.00            0.00            0.00            0.00           
10          0.00            0.00            0.00            0.00           
11          0.00            0.03            0.00            0.03           
12          0.00            0.04            0.00            0.04           
13          0.01            0.08            0.01            0.08           
14          0.01            0.00            0.01            0.00           
15          0.01            0.06            0.01            0.06           
16          0.01            0.04            0.01            0.04           
17          0.01            0.04            0.01            0.04           
18          0.00            0.12            0.00            0.12           
19          0.00            0.01            0.00            0.01           
20          0.00            0.04            0.00            0.04           
21          0.01            0.00            0.01            0.00           
22          0.02            0.06            0.02            0.06           
23          0.01            0.05            0.01            0.05           
24          0.02            0.03            0.02            0.03           
2021-12-16 18:57:36,612 - __main__ - INFO - relative error average :0.027182010945649076
2021-12-16 18:57:36,612 - __main__ - INFO - relative error normalized average :0.026208113089817072
2021-12-16 18:57:36,613 - __main__ - INFO - relative error var normalized average :0.005129849021932251
2021-12-16 18:57:36,613 - __main__ - INFO - total_time:6.0881329802796245
