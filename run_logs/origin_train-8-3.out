main.py:20: FutureWarning: Passing a negative integer is deprecated in version 1.0 and will not be supported in future version. Instead, use None to not limit the column width.
  pd.set_option('max_colwidth', -1)
2021-12-16 18:56:35,238 - __main__ - INFO - load query config config/query/customer_with_inc_join_supplier.json successfully
2021-12-16 18:56:35,238 - __main__ - INFO - load train config ./config/train/tpch_customer_with_inc_torch_cvae.json successfully
2021-12-16 18:56:35,238 - __main__ - INFO - load train config ./config/train/tpch_supplier_torch_cvae.json successfully
2021-12-16 18:56:35,238 - utils.dataset_utils - INFO - load existing dataset(light):tpch-1m-customer-with-inc_c_nationkey_c_acctbal_c_nationkey_binary_gaussian5_0
2021-12-16 18:56:35,282 - utils.dataset_utils - INFO - load dataset(light) time elapsed:0.04427261557430029
2021-12-16 18:56:35,283 - models.pytorch_cvae - INFO - feature info:[('c_acctbal', 'numerical', 6), ('c_nationkey', 'categorical', 6)]
2021-12-16 18:56:35,284 - utils.model_utils - INFO - load model name:torch_cvae_tpch-1m-customer-with-inc_c_nationkey_ld50_id100_bs1024_ep100_0_binary_gaussian5
2021-12-16 18:56:37,353 - utils.model_utils - INFO - load torch model time elapsed:2.068871430121362
2021-12-16 18:56:37,353 - models.pytorch_cvae - INFO - load model time elapsed:2.1146182464435697
2021-12-16 18:56:37,353 - utils.dataset_utils - INFO - load existing dataset(light):tpch-1m-supplier_s_nationkey#s_suppkey_s_acctbal_s_nationkey_binary_gaussian5_0
2021-12-16 18:56:37,356 - utils.dataset_utils - INFO - load dataset(light) time elapsed:0.0032729273661971092
2021-12-16 18:56:37,356 - models.pytorch_cvae - INFO - feature info:[('s_acctbal', 'numerical', 6), ('s_nationkey', 'categorical', 6), ('s_suppkey', 'categorical', 15)]
2021-12-16 18:56:37,357 - utils.model_utils - INFO - load model name:torch_cvae_tpch-1m-supplier_s_nationkey_ld50_id100_bs32_ep150_0_binary_gaussian5
2021-12-16 18:56:37,358 - utils.model_utils - INFO - load torch model time elapsed:0.0013600168749690056
2021-12-16 18:56:37,358 - models.pytorch_cvae - INFO - load model time elapsed:0.005358666181564331
2021-12-16 18:56:37,358 - __main__ - INFO - multi_sampling No.0 epoch
2021-12-16 18:56:37,359 - models.pytorch_cvae - INFO - statistics sampling rate:0.08
2021-12-16 18:56:37,359 - __main__ - INFO - multi_sampling No.1 epoch
2021-12-16 18:56:37,364 - models.pytorch_cvae - INFO - statistics sampling rate:0.08
2021-12-16 18:56:37,365 - __main__ - INFO - multi_sampling No.2 epoch
2021-12-16 18:56:37,365 - models.pytorch_cvae - INFO - statistics sampling rate:0.08
2021-12-16 18:56:38,687 - models.pytorch_cvae - INFO - sampling time:1.3280428042635322
2021-12-16 18:56:38,745 - models.pytorch_cvae - INFO - sampling time:1.3782947212457657
2021-12-16 18:56:39,492 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:56:39,493 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:56:39,678 - models.pytorch_cvae - INFO - sampling time:2.3133783638477325
2021-12-16 18:56:39,880 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:56:39,926 - models.pytorch_cvae - INFO - sampling time:0.4331907695159316
2021-12-16 18:56:40,015 - models.pytorch_cvae - INFO - sampling time:0.5215832320973277
2021-12-16 18:56:40,199 - models.pytorch_cvae - INFO - sampling time:0.31872579641640186
2021-12-16 18:56:40,275 - __main__ - INFO - sample and aggregation time elapsed:2.90947728138417
2021-12-16 18:56:40,382 - __main__ - INFO - sample and aggregation time elapsed:3.023912662640214
2021-12-16 18:56:40,499 - __main__ - INFO - sample and aggregation time elapsed:3.1343159964308143
2021-12-16 18:56:40,504 - __main__ - INFO - sample time:3.145848298445344
2021-12-16 18:56:40,517 - __main__ - INFO - aqp result:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           4552.07         4892.04         75756810841.92  81414567822.98 
1           4518.57         4609.73         78686010437.46  80273490117.63 
2           4521.56         4902.00         84002154000.88  91070013394.88 
3           4522.73         5404.21         84554199599.31  101033810232.43
4           4514.64         5010.69         71186917409.41  79008599419.75 
5           4533.83         5045.47         70024363059.07  77926553744.31 
6           4503.14         4797.53         79131680892.09  84304969052.16 
7           4491.44         4598.85         77262547963.97  79110191741.25 
8           4493.34         4627.24         78875445418.41  81225836347.27 
9           4534.96         4956.50         79116914897.36  86471143699.92 
10          4462.76         4997.44         80930620165.35  90626961217.37 
11          4520.88         4734.46         81860446587.94  85727826095.53 
12          4487.94         5237.91         77205700381.13  90107419765.94 
13          4509.71         4965.01         74111895270.85  81594176336.51 
14          4469.40         4811.28         80745397485.99  86921776272.67 
15          4480.70         4618.28         72908490107.04  75147124185.33 
16          4472.24         5261.38         74674175664.89  87850769563.29 
17          4469.96         5006.96         76685356409.10  85898001777.10 
18          4496.20         4849.33         80531111432.00  86855861464.55 
19          4525.91         5123.93         76054368453.95  86103537826.87 
20          4478.83         4949.09         78281574369.76  86500768870.27 
21          4471.74         5400.93         78631796067.53  94970870939.58 
22          4445.44         5181.75         79344319497.62  92486252105.88 
23          4463.12         4954.81         75898650641.01  84260231969.92 
24          4440.33         5827.09         79091242172.09  103792229012.60
2021-12-16 18:56:40,520 - __main__ - INFO - ground truth:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           4495.08         4750.47         74808300307.97  79058543738.51 
1           4481.35         5156.38         78037804737.42  89792862870.19 
2           4500.11         4926.83         83603605816.42  91531433246.36 
3           4501.52         4976.52         84157817962.92  93037962787.86 
4           4481.25         4955.13         70660420363.18  78132509824.90 
5           4506.27         5017.03         69598653692.12  77487270820.80 
6           4487.10         5263.09         78849876383.14  92485978451.44 
7           4480.55         4725.51         77075278088.26  81289117007.37 
8           4500.54         4898.26         79001842301.71  85983328363.66 
9           4508.52         5056.46         78655627222.94  88215027610.30 
10          4518.18         4934.04         81935710769.84  89477117315.13 
11          4512.10         4846.61         81701543083.81  87758487179.40 
12          4496.61         4905.97         77354913969.64  84397069733.16 
13          4506.92         4967.01         74066058944.76  81627052771.36 
14          4482.32         4748.57         80978762526.42  85788910922.73 
15          4515.02         4993.59         73466872175.01  81253978684.79 
16          4511.16         5125.84         75324113973.83  85587620982.90 
17          4471.53         5194.81         76712255703.01  89120736244.02 
18          4468.37         5153.13         80032519501.53  92297274686.32 
19          4490.91         4865.91         75466160926.82  81767784036.93 
20          4494.50         5210.90         78555417820.06  91076766492.73 
21          4497.21         5087.25         79079595482.76  89454975198.84 
22          4529.54         4945.33         80845288221.60  88266586724.51 
23          4489.35         4974.00         76344790639.43  84586573926.78 
24          4516.77         5065.90         80452749791.40  90233921611.59 
2021-12-16 18:56:40,531 - __main__ - INFO - relative error:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           0.01            0.03            0.01            0.03           
1           0.01            0.11            0.01            0.11           
2           0.00            0.01            0.00            0.01           
3           0.00            0.09            0.00            0.09           
4           0.01            0.01            0.01            0.01           
5           0.01            0.01            0.01            0.01           
6           0.00            0.09            0.00            0.09           
7           0.00            0.03            0.00            0.03           
8           0.00            0.06            0.00            0.06           
9           0.01            0.02            0.01            0.02           
10          0.01            0.01            0.01            0.01           
11          0.00            0.02            0.00            0.02           
12          0.00            0.07            0.00            0.07           
13          0.00            0.00            0.00            0.00           
14          0.00            0.01            0.00            0.01           
15          0.01            0.08            0.01            0.08           
16          0.01            0.03            0.01            0.03           
17          0.00            0.04            0.00            0.04           
18          0.01            0.06            0.01            0.06           
19          0.01            0.05            0.01            0.05           
20          0.00            0.05            0.00            0.05           
21          0.01            0.06            0.01            0.06           
22          0.02            0.05            0.02            0.05           
23          0.01            0.00            0.01            0.00           
24          0.02            0.15            0.02            0.15           
2021-12-16 18:56:40,531 - __main__ - INFO - relative error average :0.025461848321759212
2021-12-16 18:56:40,531 - __main__ - INFO - relative error normalized average :0.024648900859514898
2021-12-16 18:56:40,531 - __main__ - INFO - relative error var normalized average :0.004625290031059951
2021-12-16 18:56:40,532 - __main__ - INFO - total_time:5.2942741280421615
