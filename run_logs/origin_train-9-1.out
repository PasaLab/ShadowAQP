main.py:20: FutureWarning: Passing a negative integer is deprecated in version 1.0 and will not be supported in future version. Instead, use None to not limit the column width.
  pd.set_option('max_colwidth', -1)
2021-12-16 18:56:44,274 - __main__ - INFO - load query config config/query/customer_with_inc_join_supplier.json successfully
2021-12-16 18:56:44,274 - __main__ - INFO - load train config ./config/train/tpch_customer_with_inc_torch_cvae.json successfully
2021-12-16 18:56:44,275 - __main__ - INFO - load train config ./config/train/tpch_supplier_torch_cvae.json successfully
2021-12-16 18:56:44,275 - utils.dataset_utils - INFO - load existing dataset(light):tpch-1m-customer-with-inc_c_nationkey_c_acctbal_c_nationkey_binary_gaussian5_0
2021-12-16 18:56:44,326 - utils.dataset_utils - INFO - load dataset(light) time elapsed:0.05141832306981087
2021-12-16 18:56:44,326 - models.pytorch_cvae - INFO - feature info:[('c_acctbal', 'numerical', 6), ('c_nationkey', 'categorical', 6)]
2021-12-16 18:56:44,328 - utils.model_utils - INFO - load model name:torch_cvae_tpch-1m-customer-with-inc_c_nationkey_ld50_id100_bs1024_ep100_0_binary_gaussian5
2021-12-16 18:56:46,627 - utils.model_utils - INFO - load torch model time elapsed:2.299108608625829
2021-12-16 18:56:46,627 - models.pytorch_cvae - INFO - load model time elapsed:2.3526533506810665
2021-12-16 18:56:46,627 - utils.dataset_utils - INFO - load existing dataset(light):tpch-1m-supplier_s_nationkey#s_suppkey_s_acctbal_s_nationkey_binary_gaussian5_0
2021-12-16 18:56:46,630 - utils.dataset_utils - INFO - load dataset(light) time elapsed:0.002939583733677864
2021-12-16 18:56:46,630 - models.pytorch_cvae - INFO - feature info:[('s_acctbal', 'numerical', 6), ('s_nationkey', 'categorical', 6), ('s_suppkey', 'categorical', 15)]
2021-12-16 18:56:46,631 - utils.model_utils - INFO - load model name:torch_cvae_tpch-1m-supplier_s_nationkey_ld50_id100_bs32_ep150_0_binary_gaussian5
2021-12-16 18:56:46,632 - utils.model_utils - INFO - load torch model time elapsed:0.0013433657586574554
2021-12-16 18:56:46,632 - models.pytorch_cvae - INFO - load model time elapsed:0.005011000670492649
2021-12-16 18:56:46,632 - __main__ - INFO - multi_sampling No.0 epoch
2021-12-16 18:56:46,633 - models.pytorch_cvae - INFO - statistics sampling rate:0.09
2021-12-16 18:56:46,633 - __main__ - INFO - multi_sampling No.1 epoch
2021-12-16 18:56:46,638 - models.pytorch_cvae - INFO - statistics sampling rate:0.09
2021-12-16 18:56:46,639 - __main__ - INFO - multi_sampling No.2 epoch
2021-12-16 18:56:46,641 - models.pytorch_cvae - INFO - statistics sampling rate:0.09
2021-12-16 18:56:48,219 - models.pytorch_cvae - INFO - sampling time:1.5790080660954118
2021-12-16 18:56:48,240 - models.pytorch_cvae - INFO - sampling time:1.598660503514111
2021-12-16 18:56:48,503 - models.pytorch_cvae - INFO - sampling time:1.8694915603846312
2021-12-16 18:56:49,563 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:56:49,587 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:56:49,616 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:56:49,706 - models.pytorch_cvae - INFO - sampling time:0.08997963648289442
2021-12-16 18:56:49,836 - models.pytorch_cvae - INFO - sampling time:0.2704900437965989
2021-12-16 18:56:49,911 - models.pytorch_cvae - INFO - sampling time:0.3243963634595275
2021-12-16 18:56:50,145 - __main__ - INFO - sample and aggregation time elapsed:3.504643411375582
2021-12-16 18:56:50,272 - __main__ - INFO - sample and aggregation time elapsed:3.6396412383764982
2021-12-16 18:56:50,295 - __main__ - INFO - sample and aggregation time elapsed:3.656955871731043
2021-12-16 18:56:50,300 - __main__ - INFO - sample time:3.667433800175786
2021-12-16 18:56:50,313 - __main__ - INFO - aqp result:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           4519.81         5166.45         75219776001.70  85981353638.23 
1           4592.18         4863.90         79967940967.09  84699580804.89 
2           4482.57         4909.59         83277798913.21  91211095340.24 
3           4547.12         4883.79         85010238705.09  91304493295.97 
4           4471.33         4742.37         70503980371.90  74777764453.16 
5           4555.28         4960.11         70355731366.49  76608210213.51 
6           4477.11         4852.75         78674331462.72  85275282539.32 
7           4525.49         5081.09         77848239428.10  87405791320.01 
8           4500.62         5195.79         79003300122.18  91206209282.10 
9           4507.21         5020.07         78632850387.90  87580242329.86 
10          4534.48         4588.29         82231184130.72  83206998377.47 
11          4486.12         4875.18         81231082101.62  88275875669.49 
12          4469.55         5117.44         76889406719.70  88035014628.24 
13          4492.54         5040.62         73829614129.25  82836647244.01 
14          4459.61         4498.72         80568519662.41  81274993189.46 
15          4466.88         4816.62         72683546010.25  78374439269.29 
16          4502.54         5206.78         75180129416.51  86939009731.15 
17          4495.20         5142.87         77118380660.57  88229648323.64 
18          4489.75         5166.18         80415488643.89  92531087485.67 
19          4509.02         4557.70         75770415523.39  76588454118.42 
20          4460.48         5458.28         77960776320.53  95400499151.56 
21          4493.00         5048.77         79005712154.29  88778438936.56 
22          4527.75         5057.12         80813370110.05  90261869598.15 
23          4480.57         4983.44         76195398460.61  84747087427.62 
24          4428.33         4960.16         78877420359.46  88350409619.95 
2021-12-16 18:56:50,315 - __main__ - INFO - ground truth:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           4495.08         4750.47         74808300307.97  79058543738.51 
1           4481.35         5156.38         78037804737.42  89792862870.19 
2           4500.11         4926.83         83603605816.42  91531433246.36 
3           4501.52         4976.52         84157817962.92  93037962787.86 
4           4481.25         4955.13         70660420363.18  78132509824.90 
5           4506.27         5017.03         69598653692.12  77487270820.80 
6           4487.10         5263.09         78849876383.14  92485978451.44 
7           4480.55         4725.51         77075278088.26  81289117007.37 
8           4500.54         4898.26         79001842301.71  85983328363.66 
9           4508.52         5056.46         78655627222.94  88215027610.30 
10          4518.18         4934.04         81935710769.84  89477117315.13 
11          4512.10         4846.61         81701543083.81  87758487179.40 
12          4496.61         4905.97         77354913969.64  84397069733.16 
13          4506.92         4967.01         74066058944.76  81627052771.36 
14          4482.32         4748.57         80978762526.42  85788910922.73 
15          4515.02         4993.59         73466872175.01  81253978684.79 
16          4511.16         5125.84         75324113973.83  85587620982.90 
17          4471.53         5194.81         76712255703.01  89120736244.02 
18          4468.37         5153.13         80032519501.53  92297274686.32 
19          4490.91         4865.91         75466160926.82  81767784036.93 
20          4494.50         5210.90         78555417820.06  91076766492.73 
21          4497.21         5087.25         79079595482.76  89454975198.84 
22          4529.54         4945.33         80845288221.60  88266586724.51 
23          4489.35         4974.00         76344790639.43  84586573926.78 
24          4516.77         5065.90         80452749791.40  90233921611.59 
2021-12-16 18:56:50,327 - __main__ - INFO - relative error:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           0.01            0.09            0.01            0.09           
1           0.02            0.06            0.02            0.06           
2           0.00            0.00            0.00            0.00           
3           0.01            0.02            0.01            0.02           
4           0.00            0.04            0.00            0.04           
5           0.01            0.01            0.01            0.01           
6           0.00            0.08            0.00            0.08           
7           0.01            0.08            0.01            0.08           
8           0.00            0.06            0.00            0.06           
9           0.00            0.01            0.00            0.01           
10          0.00            0.07            0.00            0.07           
11          0.01            0.01            0.01            0.01           
12          0.01            0.04            0.01            0.04           
13          0.00            0.01            0.00            0.01           
14          0.01            0.05            0.01            0.05           
15          0.01            0.04            0.01            0.04           
16          0.00            0.02            0.00            0.02           
17          0.01            0.01            0.01            0.01           
18          0.00            0.00            0.00            0.00           
19          0.00            0.06            0.00            0.06           
20          0.01            0.05            0.01            0.05           
21          0.00            0.01            0.00            0.01           
22          0.00            0.02            0.00            0.02           
23          0.00            0.00            0.00            0.00           
24          0.02            0.02            0.02            0.02           
2021-12-16 18:56:50,327 - __main__ - INFO - relative error average :0.02013106381834192
2021-12-16 18:56:50,327 - __main__ - INFO - relative error normalized average :0.01965009631176154
2021-12-16 18:56:50,327 - __main__ - INFO - relative error var normalized average :0.002559405839571458
2021-12-16 18:56:50,328 - __main__ - INFO - total_time:6.053768415004015
