main.py:20: FutureWarning: Passing a negative integer is deprecated in version 1.0 and will not be supported in future version. Instead, use None to not limit the column width.
  pd.set_option('max_colwidth', -1)
2021-12-16 19:09:27,182 - __main__ - INFO - load query config config/query/customer_with_inc_join_supplier.json successfully
2021-12-16 19:09:27,182 - __main__ - INFO - load train config ./config/train/tpch_customer_with_inc_torch_cvae.json successfully
2021-12-16 19:09:27,182 - __main__ - INFO - load train config ./config/train/tpch_supplier_torch_cvae.json successfully
2021-12-16 19:09:27,182 - utils.dataset_utils - INFO - load existing dataset(light):tpch-1m-customer-with-inc_c_nationkey_c_acctbal_c_nationkey_binary_gaussian5_0old_train
2021-12-16 19:09:29,913 - utils.dataset_utils - INFO - load dataset(light) time elapsed:2.7306366059929132
2021-12-16 19:09:29,913 - models.pytorch_cvae - INFO - feature info:[('c_acctbal', 'numerical', 6), ('c_nationkey', 'categorical', 6)]
2021-12-16 19:09:29,914 - utils.model_utils - INFO - load model name:torch_cvae_tpch-1m-customer-with-inc_c_nationkey_ld50_id100_bs1024_ep100_0_binary_gaussian5old_train
2021-12-16 19:09:29,917 - utils.model_utils - INFO - load torch model time elapsed:0.0028305593878030777
2021-12-16 19:09:29,917 - models.pytorch_cvae - INFO - load model time elapsed:2.7348054395988584
2021-12-16 19:09:29,917 - utils.dataset_utils - INFO - load existing dataset(light):tpch-1m-supplier_s_nationkey#s_suppkey_s_acctbal_s_nationkey_binary_gaussian5_0
2021-12-16 19:09:29,920 - utils.dataset_utils - INFO - load dataset(light) time elapsed:0.002690832130610943
2021-12-16 19:09:29,920 - models.pytorch_cvae - INFO - feature info:[('s_acctbal', 'numerical', 6), ('s_nationkey', 'categorical', 6), ('s_suppkey', 'categorical', 15)]
2021-12-16 19:09:29,921 - utils.model_utils - INFO - load model name:torch_cvae_tpch-1m-supplier_s_nationkey_ld50_id100_bs32_ep150_0_binary_gaussian5
2021-12-16 19:09:29,923 - utils.model_utils - INFO - load torch model time elapsed:0.0024260124191641808
2021-12-16 19:09:29,923 - models.pytorch_cvae - INFO - load model time elapsed:0.005784483626484871
2021-12-16 19:09:29,923 - __main__ - INFO - multi_sampling No.0 epoch
2021-12-16 19:09:29,924 - models.pytorch_cvae - INFO - statistics sampling rate:0.07
2021-12-16 19:09:29,924 - __main__ - INFO - multi_sampling No.1 epoch
2021-12-16 19:09:29,930 - models.pytorch_cvae - INFO - statistics sampling rate:0.07
2021-12-16 19:09:29,930 - __main__ - INFO - multi_sampling No.2 epoch
2021-12-16 19:09:29,932 - models.pytorch_cvae - INFO - statistics sampling rate:0.07
2021-12-16 19:09:31,138 - models.pytorch_cvae - INFO - sampling time:1.2142631504684687
2021-12-16 19:09:31,204 - models.pytorch_cvae - INFO - sampling time:1.272991105914116
2021-12-16 19:09:31,824 - models.pytorch_cvae - INFO - sampling time:1.891672213561833
2021-12-16 19:09:32,171 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 19:09:32,184 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 19:09:32,328 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 19:09:32,422 - models.pytorch_cvae - INFO - sampling time:0.09462025295943022
2021-12-16 19:09:32,483 - models.pytorch_cvae - INFO - sampling time:0.3103238623589277
2021-12-16 19:09:32,583 - models.pytorch_cvae - INFO - sampling time:0.39767284505069256
2021-12-16 19:09:32,794 - __main__ - INFO - sample and aggregation time elapsed:2.8628828367218375
2021-12-16 19:09:32,895 - __main__ - INFO - sample and aggregation time elapsed:2.9651446640491486
2021-12-16 19:09:32,909 - __main__ - INFO - sample and aggregation time elapsed:2.9854012671858072
2021-12-16 19:09:32,911 - __main__ - INFO - sample time:2.987669519148767
2021-12-16 19:09:32,917 - __main__ - INFO - aqp result:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           4537.49         5096.96         98252624019.52  110367064183.24
1           4526.02         5094.32         102597187869.09 115479606225.42
2           4487.84         4868.93         108411741027.19 117617542933.67
3           4437.56         4855.18         108283452212.63 118474018459.57
4           4502.06         4516.86         92630551314.06  92935125505.22 
5           4502.71         5009.42         90603545098.70  100799557669.76
6           4558.06         4680.50         104127853092.39 106925036403.99
7           4451.70         4863.97         99585830147.21  108808248948.15
8           4506.22         4792.59         102523341209.97 109038807250.69
9           4541.51         4778.08         102797501925.55 108152164048.05
10          4581.40         4667.48         108227579603.07 110261072077.52
11          4481.19         4861.92         105539581120.15 114506301041.89
12          4534.76         5393.78         101208993860.05 120380824162.74
13          4478.45         4751.47         95757667839.11  101595225563.64
14          4491.59         5136.04         105668816704.37 120830138792.38
15          4498.56         4997.58         95344271369.49  105920535211.04
16          4502.12         4898.48         97935018303.47  106556916168.74
17          4456.96         4846.06         99334153218.14  108006132613.40
18          4526.35         4772.74         105409195868.87 111146984249.79
19          4500.69         4761.83         98291287952.17  103994343910.93
20          4451.33         5470.95         101121762423.36 124284739085.00
21          4494.70         4999.41         103034565897.93 114604385455.63
22          4465.30         4848.34         103596991213.14 112483679004.16
23          4461.12         4929.55         98676008336.66  109037330987.19
24          4509.42         5212.98         104430295807.64 120723402522.89
2021-12-16 19:09:32,919 - __main__ - INFO - ground truth:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           4489.09         4750.47         97204429060.11  102864283639.34
1           4478.58         5156.38         101521631809.03 116886387814.97
2           4502.84         4926.83         108773860934.93 119016293073.25
3           4510.50         4976.52         110063319836.95 121434781349.97
4           4467.80         4955.13         91925727389.56  101952561544.09
5           4506.93         5017.03         90688332145.90  100952499397.81
6           4489.99         5263.09         102572805214.01 120234077220.52
7           4481.97         4725.51         100262969999.54 105711043954.64
8           4491.71         4898.26         102193355822.35 111442904344.11
9           4507.31         5056.46         102023357487.12 114453365970.99
10          4514.20         4934.04         106640129528.12 116557963141.05
11          4509.51         4846.61         106206568975.75 114145706219.45
12          4495.81         4905.97         100339620692.57 109493748108.56
13          4519.66         4967.01         96638723186.87  106203971323.94
14          4489.09         4748.57         105610059556.98 111714619054.55
15          4513.94         4993.59         95670237506.21  105836044024.01
16          4509.69         5125.84         98099691841.22  111502795597.57
17          4476.99         5194.81         99780562278.61  115778956973.10
18          4470.09         5153.13         104098927638.07 120005532950.10
19          4480.83         4865.91         97857583891.19  106267463992.76
20          4505.29         5210.90         102347462434.85 118377097752.18
21          4500.84         5087.25         103175299651.56 116617824864.37
22          4522.71         4945.33         104928946224.34 114733990724.54
23          4492.85         4974.00         99377984303.50  110020479238.93
24          4507.26         5065.90         104380144828.63 117317398620.77
2021-12-16 19:09:32,927 - __main__ - INFO - relative error:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           0.01            0.07            0.01            0.07           
1           0.01            0.01            0.01            0.01           
2           0.00            0.01            0.00            0.01           
3           0.02            0.02            0.02            0.02           
4           0.01            0.09            0.01            0.09           
5           0.00            0.00            0.00            0.00           
6           0.02            0.11            0.02            0.11           
7           0.01            0.03            0.01            0.03           
8           0.00            0.02            0.00            0.02           
9           0.01            0.06            0.01            0.06           
10          0.01            0.05            0.01            0.05           
11          0.01            0.00            0.01            0.00           
12          0.01            0.10            0.01            0.10           
13          0.01            0.04            0.01            0.04           
14          0.00            0.08            0.00            0.08           
15          0.00            0.00            0.00            0.00           
16          0.00            0.04            0.00            0.04           
17          0.00            0.07            0.00            0.07           
18          0.01            0.07            0.01            0.07           
19          0.00            0.02            0.00            0.02           
20          0.01            0.05            0.01            0.05           
21          0.00            0.02            0.00            0.02           
22          0.01            0.02            0.01            0.02           
23          0.01            0.01            0.01            0.01           
24          0.00            0.03            0.00            0.03           
2021-12-16 19:09:32,927 - __main__ - INFO - relative error average :0.024468340901820252
2021-12-16 19:09:32,928 - __main__ - INFO - relative error normalized average :0.023782415049003948
2021-12-16 19:09:32,928 - __main__ - INFO - relative error var normalized average :0.0041715442884720936
2021-12-16 19:09:32,930 - __main__ - INFO - total_time:5.747364144772291
