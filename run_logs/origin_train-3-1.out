main.py:20: FutureWarning: Passing a negative integer is deprecated in version 1.0 and will not be supported in future version. Instead, use None to not limit the column width.
  pd.set_option('max_colwidth', -1)
2021-12-16 18:54:24,173 - __main__ - INFO - load query config config/query/customer_with_inc_join_supplier.json successfully
2021-12-16 18:54:24,173 - __main__ - INFO - load train config ./config/train/tpch_customer_with_inc_torch_cvae.json successfully
2021-12-16 18:54:24,173 - __main__ - INFO - load train config ./config/train/tpch_supplier_torch_cvae.json successfully
2021-12-16 18:54:24,173 - utils.dataset_utils - INFO - load existing dataset(light):tpch-1m-customer-with-inc_c_nationkey_c_acctbal_c_nationkey_binary_gaussian5_0
2021-12-16 18:54:24,224 - utils.dataset_utils - INFO - load dataset(light) time elapsed:0.05099513381719589
2021-12-16 18:54:24,224 - models.pytorch_cvae - INFO - feature info:[('c_acctbal', 'numerical', 6), ('c_nationkey', 'categorical', 6)]
2021-12-16 18:54:24,225 - utils.model_utils - INFO - load model name:torch_cvae_tpch-1m-customer-with-inc_c_nationkey_ld50_id100_bs1024_ep100_0_binary_gaussian5
2021-12-16 18:54:26,294 - utils.model_utils - INFO - load torch model time elapsed:2.0687637981027365
2021-12-16 18:54:26,294 - models.pytorch_cvae - INFO - load model time elapsed:2.1212746324017644
2021-12-16 18:54:26,294 - utils.dataset_utils - INFO - load existing dataset(light):tpch-1m-supplier_s_nationkey#s_suppkey_s_acctbal_s_nationkey_binary_gaussian5_0
2021-12-16 18:54:26,297 - utils.dataset_utils - INFO - load dataset(light) time elapsed:0.002601727843284607
2021-12-16 18:54:26,297 - models.pytorch_cvae - INFO - feature info:[('s_acctbal', 'numerical', 6), ('s_nationkey', 'categorical', 6), ('s_suppkey', 'categorical', 15)]
2021-12-16 18:54:26,297 - utils.model_utils - INFO - load model name:torch_cvae_tpch-1m-supplier_s_nationkey_ld50_id100_bs32_ep150_0_binary_gaussian5
2021-12-16 18:54:26,299 - utils.model_utils - INFO - load torch model time elapsed:0.0013470901176333427
2021-12-16 18:54:26,299 - models.pytorch_cvae - INFO - load model time elapsed:0.00467483326792717
2021-12-16 18:54:26,299 - __main__ - INFO - multi_sampling No.0 epoch
2021-12-16 18:54:26,299 - models.pytorch_cvae - INFO - statistics sampling rate:0.03
2021-12-16 18:54:26,299 - __main__ - INFO - multi_sampling No.1 epoch
2021-12-16 18:54:26,305 - models.pytorch_cvae - INFO - statistics sampling rate:0.03
2021-12-16 18:54:26,306 - __main__ - INFO - multi_sampling No.2 epoch
2021-12-16 18:54:26,307 - models.pytorch_cvae - INFO - statistics sampling rate:0.03
2021-12-16 18:54:27,274 - models.pytorch_cvae - INFO - sampling time:0.9681285563856363
2021-12-16 18:54:27,279 - models.pytorch_cvae - INFO - sampling time:0.9791980739682913
2021-12-16 18:54:27,639 - models.pytorch_cvae - INFO - sampling time:1.3315992997959256
2021-12-16 18:54:27,789 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:54:27,841 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:54:27,851 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:54:27,961 - models.pytorch_cvae - INFO - sampling time:0.11955027934163809
2021-12-16 18:54:28,014 - models.pytorch_cvae - INFO - sampling time:0.16304931789636612
2021-12-16 18:54:28,100 - models.pytorch_cvae - INFO - sampling time:0.31136979907751083
2021-12-16 18:54:28,167 - __main__ - INFO - sample and aggregation time elapsed:1.8603055626153946
2021-12-16 18:54:28,234 - __main__ - INFO - sample and aggregation time elapsed:1.9344746870920062
2021-12-16 18:54:28,249 - __main__ - INFO - sample and aggregation time elapsed:1.943820626474917
2021-12-16 18:54:28,253 - __main__ - INFO - sample time:1.954457987099886
2021-12-16 18:54:28,266 - __main__ - INFO - aqp result:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           4498.82         4745.55         74870563950.98  78976650326.16 
1           4578.81         5420.20         79735050945.33  94386958921.39 
2           4405.41         4818.71         81844304245.30  89522639449.25 
3           4374.03         4548.00         81774212023.06  85026732350.00 
4           4520.52         5331.31         71279520994.06  84064105450.95 
5           4463.73         4697.29         68941767256.54  72549057652.08 
6           4476.29         4748.33         78659924856.66  83440233891.72 
7           4481.81         5010.39         77096842955.44  86189657574.72 
8           4486.21         5392.31         78750339173.92  94655868219.10 
9           4467.23         4691.51         77935376465.96  81848176326.44 
10          4545.70         4749.44         82434813904.10  86129493543.97 
11          4421.18         4712.47         80055256297.73  85329687272.06 
12          4432.12         4985.59         76245465510.69  85766856737.14 
13          4511.21         4999.08         74136523686.72  82154015156.39 
14          4509.63         4877.06         81472151368.01  88110210073.75 
15          4426.92         4824.00         72033397548.46  78494471489.29 
16          4473.27         5083.46         74691510708.91  84879953693.31 
17          4573.81         4833.72         78466966230.78  82925826731.59 
18          4484.46         4950.95         80320766533.31  88675961549.04 
19          4547.19         5117.61         76411872036.43  85997410029.04 
20          4526.88         5083.91         79121279319.87  88857103837.77 
21          4538.36         5408.97         79803162966.78  95112268468.20 
22          4440.53         5248.68         79256606320.09  93680929592.92 
23          4419.37         5083.54         75154792948.31  86449368026.16 
24          4436.55         4769.19         79023925409.07  84948865236.42 
2021-12-16 18:54:28,269 - __main__ - INFO - ground truth:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           4495.08         4750.47         74808300307.97  79058543738.51 
1           4481.35         5156.38         78037804737.42  89792862870.19 
2           4500.11         4926.83         83603605816.42  91531433246.36 
3           4501.52         4976.52         84157817962.92  93037962787.86 
4           4481.25         4955.13         70660420363.18  78132509824.90 
5           4506.27         5017.03         69598653692.12  77487270820.80 
6           4487.10         5263.09         78849876383.14  92485978451.44 
7           4480.55         4725.51         77075278088.26  81289117007.37 
8           4500.54         4898.26         79001842301.71  85983328363.66 
9           4508.52         5056.46         78655627222.94  88215027610.30 
10          4518.18         4934.04         81935710769.84  89477117315.13 
11          4512.10         4846.61         81701543083.81  87758487179.40 
12          4496.61         4905.97         77354913969.64  84397069733.16 
13          4506.92         4967.01         74066058944.76  81627052771.36 
14          4482.32         4748.57         80978762526.42  85788910922.73 
15          4515.02         4993.59         73466872175.01  81253978684.79 
16          4511.16         5125.84         75324113973.83  85587620982.90 
17          4471.53         5194.81         76712255703.01  89120736244.02 
18          4468.37         5153.13         80032519501.53  92297274686.32 
19          4490.91         4865.91         75466160926.82  81767784036.93 
20          4494.50         5210.90         78555417820.06  91076766492.73 
21          4497.21         5087.25         79079595482.76  89454975198.84 
22          4529.54         4945.33         80845288221.60  88266586724.51 
23          4489.35         4974.00         76344790639.43  84586573926.78 
24          4516.77         5065.90         80452749791.40  90233921611.59 
2021-12-16 18:54:28,280 - __main__ - INFO - relative error:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           0.00            0.00            0.00            0.00           
1           0.02            0.05            0.02            0.05           
2           0.02            0.02            0.02            0.02           
3           0.03            0.09            0.03            0.09           
4           0.01            0.08            0.01            0.08           
5           0.01            0.06            0.01            0.06           
6           0.00            0.10            0.00            0.10           
7           0.00            0.06            0.00            0.06           
8           0.00            0.10            0.00            0.10           
9           0.01            0.07            0.01            0.07           
10          0.01            0.04            0.01            0.04           
11          0.02            0.03            0.02            0.03           
12          0.01            0.02            0.01            0.02           
13          0.00            0.01            0.00            0.01           
14          0.01            0.03            0.01            0.03           
15          0.02            0.03            0.02            0.03           
16          0.01            0.01            0.01            0.01           
17          0.02            0.07            0.02            0.07           
18          0.00            0.04            0.00            0.04           
19          0.01            0.05            0.01            0.05           
20          0.01            0.02            0.01            0.02           
21          0.01            0.06            0.01            0.06           
22          0.02            0.06            0.02            0.06           
23          0.02            0.02            0.02            0.02           
24          0.02            0.06            0.02            0.06           
2021-12-16 18:54:28,280 - __main__ - INFO - relative error average :0.029343718241836812
2021-12-16 18:54:28,280 - __main__ - INFO - relative error normalized average :0.028566130024500907
2021-12-16 18:54:28,280 - __main__ - INFO - relative error var normalized average :0.004228642503418436
2021-12-16 18:54:28,281 - __main__ - INFO - total_time:4.108471855521202
