main.py:20: FutureWarning: Passing a negative integer is deprecated in version 1.0 and will not be supported in future version. Instead, use None to not limit the column width.
  pd.set_option('max_colwidth', -1)
2021-12-16 18:56:01,882 - __main__ - INFO - load query config config/query/customer_with_inc_join_supplier.json successfully
2021-12-16 18:56:01,882 - __main__ - INFO - load train config ./config/train/tpch_customer_with_inc_torch_cvae.json successfully
2021-12-16 18:56:01,882 - __main__ - INFO - load train config ./config/train/tpch_supplier_torch_cvae.json successfully
2021-12-16 18:56:01,882 - utils.dataset_utils - INFO - load existing dataset(light):tpch-1m-customer-with-inc_c_nationkey_c_acctbal_c_nationkey_binary_gaussian5_0
2021-12-16 18:56:01,920 - utils.dataset_utils - INFO - load dataset(light) time elapsed:0.03801390249282122
2021-12-16 18:56:01,921 - models.pytorch_cvae - INFO - feature info:[('c_acctbal', 'numerical', 6), ('c_nationkey', 'categorical', 6)]
2021-12-16 18:56:01,922 - utils.model_utils - INFO - load model name:torch_cvae_tpch-1m-customer-with-inc_c_nationkey_ld50_id100_bs1024_ep100_0_binary_gaussian5
2021-12-16 18:56:03,963 - utils.model_utils - INFO - load torch model time elapsed:2.0409353328868747
2021-12-16 18:56:03,963 - models.pytorch_cvae - INFO - load model time elapsed:2.08040998224169
2021-12-16 18:56:03,963 - utils.dataset_utils - INFO - load existing dataset(light):tpch-1m-supplier_s_nationkey#s_suppkey_s_acctbal_s_nationkey_binary_gaussian5_0
2021-12-16 18:56:03,966 - utils.dataset_utils - INFO - load dataset(light) time elapsed:0.002675130032002926
2021-12-16 18:56:03,966 - models.pytorch_cvae - INFO - feature info:[('s_acctbal', 'numerical', 6), ('s_nationkey', 'categorical', 6), ('s_suppkey', 'categorical', 15)]
2021-12-16 18:56:03,966 - utils.model_utils - INFO - load model name:torch_cvae_tpch-1m-supplier_s_nationkey_ld50_id100_bs32_ep150_0_binary_gaussian5
2021-12-16 18:56:03,968 - utils.model_utils - INFO - load torch model time elapsed:0.0013630734756588936
2021-12-16 18:56:03,968 - models.pytorch_cvae - INFO - load model time elapsed:0.0047696782276034355
2021-12-16 18:56:03,968 - __main__ - INFO - multi_sampling No.0 epoch
2021-12-16 18:56:03,968 - models.pytorch_cvae - INFO - statistics sampling rate:0.07
2021-12-16 18:56:03,968 - __main__ - INFO - multi_sampling No.1 epoch
2021-12-16 18:56:03,974 - models.pytorch_cvae - INFO - statistics sampling rate:0.07
2021-12-16 18:56:03,974 - __main__ - INFO - multi_sampling No.2 epoch
2021-12-16 18:56:03,975 - models.pytorch_cvae - INFO - statistics sampling rate:0.07
2021-12-16 18:56:05,265 - models.pytorch_cvae - INFO - sampling time:1.2895716521888971
2021-12-16 18:56:05,354 - models.pytorch_cvae - INFO - sampling time:1.3798018163070083
2021-12-16 18:56:06,115 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:56:06,127 - models.pytorch_cvae - INFO - sampling time:2.1589137418195605
2021-12-16 18:56:06,248 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:56:06,398 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:56:06,466 - models.pytorch_cvae - INFO - sampling time:0.3502314183861017
2021-12-16 18:56:06,627 - models.pytorch_cvae - INFO - sampling time:0.22929791547358036
2021-12-16 18:56:06,681 - models.pytorch_cvae - INFO - sampling time:0.4314329531043768
2021-12-16 18:56:06,872 - __main__ - INFO - sample and aggregation time elapsed:2.89730223454535
2021-12-16 18:56:06,926 - __main__ - INFO - sample and aggregation time elapsed:2.957491564564407
2021-12-16 18:56:06,946 - __main__ - INFO - sample and aggregation time elapsed:2.9719440527260303
2021-12-16 18:56:06,950 - __main__ - INFO - sample time:2.9825280029326677
2021-12-16 18:56:06,963 - __main__ - INFO - aqp result:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           4540.53         4736.09         75564626729.70  78819311863.58 
1           4517.05         5083.48         78659509442.45  88523278437.32 
2           4497.33         4964.69         83552071520.30  92234785953.88 
3           4522.79         4933.58         84555379094.10  92235243797.73 
4           4500.35         4963.79         70961572094.23  78269073757.86 
5           4527.17         5374.03         69921592840.09  83001095581.07 
6           4528.12         4485.89         79570651554.93  78828487893.31 
7           4498.23         4674.84         77379377391.89  80417378389.72 
8           4519.84         4808.95         79340582112.70  84415638822.31 
9           4523.94         4800.99         78924738076.32  83758013519.30 
10          4510.47         4821.48         81795820174.52  87435830916.26 
11          4548.55         4724.99         82361589259.77  85556298584.04 
12          4552.11         4714.84         78309565495.52  81109061068.81 
13          4521.18         4904.99         74300328829.08  80607772213.80 
14          4504.10         4987.95         81372192084.57  90113686663.28 
15          4489.15         5146.49         73045932584.44  83741889210.52 
16          4451.41         5030.81         74326448268.72  84000920118.02 
17          4489.17         5172.94         77014832919.68  88745385295.04 
18          4454.69         5068.85         79787627284.89  90787746479.94 
19          4508.62         5110.80         75763815938.47  85882965310.52 
20          4471.50         5287.35         78153339726.83  92412997654.09 
21          4467.78         5542.21         78562232897.86  97455125491.27 
22          4528.08         5404.73         80819262464.62  96466138006.94 
23          4494.48         4447.08         76432000515.19  75625977525.57 
24          4448.03         4780.96         79228412738.57  85158449116.83 
2021-12-16 18:56:06,966 - __main__ - INFO - ground truth:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           4495.08         4750.47         74808300307.97  79058543738.51 
1           4481.35         5156.38         78037804737.42  89792862870.19 
2           4500.11         4926.83         83603605816.42  91531433246.36 
3           4501.52         4976.52         84157817962.92  93037962787.86 
4           4481.25         4955.13         70660420363.18  78132509824.90 
5           4506.27         5017.03         69598653692.12  77487270820.80 
6           4487.10         5263.09         78849876383.14  92485978451.44 
7           4480.55         4725.51         77075278088.26  81289117007.37 
8           4500.54         4898.26         79001842301.71  85983328363.66 
9           4508.52         5056.46         78655627222.94  88215027610.30 
10          4518.18         4934.04         81935710769.84  89477117315.13 
11          4512.10         4846.61         81701543083.81  87758487179.40 
12          4496.61         4905.97         77354913969.64  84397069733.16 
13          4506.92         4967.01         74066058944.76  81627052771.36 
14          4482.32         4748.57         80978762526.42  85788910922.73 
15          4515.02         4993.59         73466872175.01  81253978684.79 
16          4511.16         5125.84         75324113973.83  85587620982.90 
17          4471.53         5194.81         76712255703.01  89120736244.02 
18          4468.37         5153.13         80032519501.53  92297274686.32 
19          4490.91         4865.91         75466160926.82  81767784036.93 
20          4494.50         5210.90         78555417820.06  91076766492.73 
21          4497.21         5087.25         79079595482.76  89454975198.84 
22          4529.54         4945.33         80845288221.60  88266586724.51 
23          4489.35         4974.00         76344790639.43  84586573926.78 
24          4516.77         5065.90         80452749791.40  90233921611.59 
2021-12-16 18:56:06,977 - __main__ - INFO - relative error:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           0.01            0.00            0.01            0.00           
1           0.01            0.01            0.01            0.01           
2           0.00            0.01            0.00            0.01           
3           0.00            0.01            0.00            0.01           
4           0.00            0.00            0.00            0.00           
5           0.00            0.07            0.00            0.07           
6           0.01            0.15            0.01            0.15           
7           0.00            0.01            0.00            0.01           
8           0.00            0.02            0.00            0.02           
9           0.00            0.05            0.00            0.05           
10          0.00            0.02            0.00            0.02           
11          0.01            0.03            0.01            0.03           
12          0.01            0.04            0.01            0.04           
13          0.00            0.01            0.00            0.01           
14          0.00            0.05            0.00            0.05           
15          0.01            0.03            0.01            0.03           
16          0.01            0.02            0.01            0.02           
17          0.00            0.00            0.00            0.00           
18          0.00            0.02            0.00            0.02           
19          0.00            0.05            0.00            0.05           
20          0.01            0.01            0.01            0.01           
21          0.01            0.09            0.01            0.09           
22          0.00            0.09            0.00            0.09           
23          0.00            0.11            0.00            0.11           
24          0.02            0.06            0.02            0.06           
2021-12-16 18:56:06,977 - __main__ - INFO - relative error average :0.022081249819865173
2021-12-16 18:56:06,977 - __main__ - INFO - relative error normalized average :0.021383231624596162
2021-12-16 18:56:06,977 - __main__ - INFO - relative error var normalized average :0.003956753791153607
2021-12-16 18:56:06,978 - __main__ - INFO - total_time:5.095768703147769
