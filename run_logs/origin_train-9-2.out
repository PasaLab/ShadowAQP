main.py:20: FutureWarning: Passing a negative integer is deprecated in version 1.0 and will not be supported in future version. Instead, use None to not limit the column width.
  pd.set_option('max_colwidth', -1)
2021-12-16 18:56:53,303 - __main__ - INFO - load query config config/query/customer_with_inc_join_supplier.json successfully
2021-12-16 18:56:53,303 - __main__ - INFO - load train config ./config/train/tpch_customer_with_inc_torch_cvae.json successfully
2021-12-16 18:56:53,303 - __main__ - INFO - load train config ./config/train/tpch_supplier_torch_cvae.json successfully
2021-12-16 18:56:53,303 - utils.dataset_utils - INFO - load existing dataset(light):tpch-1m-customer-with-inc_c_nationkey_c_acctbal_c_nationkey_binary_gaussian5_0
2021-12-16 18:56:53,347 - utils.dataset_utils - INFO - load dataset(light) time elapsed:0.04394135903567076
2021-12-16 18:56:53,347 - models.pytorch_cvae - INFO - feature info:[('c_acctbal', 'numerical', 6), ('c_nationkey', 'categorical', 6)]
2021-12-16 18:56:53,349 - utils.model_utils - INFO - load model name:torch_cvae_tpch-1m-customer-with-inc_c_nationkey_ld50_id100_bs1024_ep100_0_binary_gaussian5
2021-12-16 18:56:55,409 - utils.model_utils - INFO - load torch model time elapsed:2.0607670079916716
2021-12-16 18:56:55,409 - models.pytorch_cvae - INFO - load model time elapsed:2.1061622723937035
2021-12-16 18:56:55,409 - utils.dataset_utils - INFO - load existing dataset(light):tpch-1m-supplier_s_nationkey#s_suppkey_s_acctbal_s_nationkey_binary_gaussian5_0
2021-12-16 18:56:55,412 - utils.dataset_utils - INFO - load dataset(light) time elapsed:0.002907395362854004
2021-12-16 18:56:55,412 - models.pytorch_cvae - INFO - feature info:[('s_acctbal', 'numerical', 6), ('s_nationkey', 'categorical', 6), ('s_suppkey', 'categorical', 15)]
2021-12-16 18:56:55,413 - utils.model_utils - INFO - load model name:torch_cvae_tpch-1m-supplier_s_nationkey_ld50_id100_bs32_ep150_0_binary_gaussian5
2021-12-16 18:56:55,414 - utils.model_utils - INFO - load torch model time elapsed:0.0013644834980368614
2021-12-16 18:56:55,414 - models.pytorch_cvae - INFO - load model time elapsed:0.004998134449124336
2021-12-16 18:56:55,414 - __main__ - INFO - multi_sampling No.0 epoch
2021-12-16 18:56:55,415 - models.pytorch_cvae - INFO - statistics sampling rate:0.09
2021-12-16 18:56:55,415 - __main__ - INFO - multi_sampling No.1 epoch
2021-12-16 18:56:55,421 - models.pytorch_cvae - INFO - statistics sampling rate:0.09
2021-12-16 18:56:55,421 - __main__ - INFO - multi_sampling No.2 epoch
2021-12-16 18:56:55,422 - models.pytorch_cvae - INFO - statistics sampling rate:0.09
2021-12-16 18:56:57,134 - models.pytorch_cvae - INFO - sampling time:1.7110041286796331
2021-12-16 18:56:57,141 - models.pytorch_cvae - INFO - sampling time:1.7195487627759576
2021-12-16 18:56:57,313 - models.pytorch_cvae - INFO - sampling time:1.8982337210327387
2021-12-16 18:56:58,655 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:56:58,662 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:56:58,701 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:56:58,782 - models.pytorch_cvae - INFO - sampling time:0.08009161986410618
2021-12-16 18:56:58,939 - models.pytorch_cvae - INFO - sampling time:0.2784629035741091
2021-12-16 18:56:58,993 - models.pytorch_cvae - INFO - sampling time:0.33092466928064823
2021-12-16 18:56:59,198 - __main__ - INFO - sample and aggregation time elapsed:3.7837619287893176
2021-12-16 18:56:59,332 - __main__ - INFO - sample and aggregation time elapsed:3.90995205193758
2021-12-16 18:56:59,376 - __main__ - INFO - sample and aggregation time elapsed:3.9552502939477563
2021-12-16 18:56:59,380 - __main__ - INFO - sample time:3.965856016613543
2021-12-16 18:56:59,393 - __main__ - INFO - aqp result:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           4499.65         4717.14         74884391606.49  78503819588.01 
1           4567.43         4735.31         79536880644.58  82460370300.01 
2           4522.26         4488.04         84015272996.62  83379495720.06 
3           4506.23         4972.92         84245744507.82  92970728126.44 
4           4459.97         4707.75         70324880411.12  74231777916.10 
5           4483.61         4954.65         69248678235.26  76523888507.33 
6           4508.14         4997.51         79219534626.05  87819081505.39 
7           4461.91         4766.32         76754558750.13  81991058979.39 
8           4540.33         4937.36         79700253690.56  86669615866.08 
9           4466.59         5445.57         77924217716.92  95003391818.04 
10          4505.49         4709.27         81705606328.32  85400985987.19 
11          4498.79         4992.23         81460572129.64  90395283149.88 
12          4533.35         5134.27         77986836508.39  88324534157.41 
13          4495.33         4985.29         73875581023.67  81927409587.56 
14          4478.38         4918.98         80907629393.21  88867603095.31 
15          4485.24         5039.83         72982243840.37  82006354853.11 
16          4480.44         5260.44         74811144342.61  87835078646.72 
17          4514.33         5174.36         77446480071.04  88769880937.85 
18          4432.54         5135.04         79390760228.38  91973231264.94 
19          4496.14         4955.40         75553980007.65  83271577791.39 
20          4507.54         5250.95         78783316871.61  91776742960.45 
21          4479.78         4848.88         78773095655.22  85263472624.12 
22          4449.48         4899.16         79416340160.75  87442579201.21 
23          4448.69         5026.28         75653266695.63  85475675309.46 
24          4452.40         5291.23         79306303976.39  94247490061.72 
2021-12-16 18:56:59,396 - __main__ - INFO - ground truth:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           4495.08         4750.47         74808300307.97  79058543738.51 
1           4481.35         5156.38         78037804737.42  89792862870.19 
2           4500.11         4926.83         83603605816.42  91531433246.36 
3           4501.52         4976.52         84157817962.92  93037962787.86 
4           4481.25         4955.13         70660420363.18  78132509824.90 
5           4506.27         5017.03         69598653692.12  77487270820.80 
6           4487.10         5263.09         78849876383.14  92485978451.44 
7           4480.55         4725.51         77075278088.26  81289117007.37 
8           4500.54         4898.26         79001842301.71  85983328363.66 
9           4508.52         5056.46         78655627222.94  88215027610.30 
10          4518.18         4934.04         81935710769.84  89477117315.13 
11          4512.10         4846.61         81701543083.81  87758487179.40 
12          4496.61         4905.97         77354913969.64  84397069733.16 
13          4506.92         4967.01         74066058944.76  81627052771.36 
14          4482.32         4748.57         80978762526.42  85788910922.73 
15          4515.02         4993.59         73466872175.01  81253978684.79 
16          4511.16         5125.84         75324113973.83  85587620982.90 
17          4471.53         5194.81         76712255703.01  89120736244.02 
18          4468.37         5153.13         80032519501.53  92297274686.32 
19          4490.91         4865.91         75466160926.82  81767784036.93 
20          4494.50         5210.90         78555417820.06  91076766492.73 
21          4497.21         5087.25         79079595482.76  89454975198.84 
22          4529.54         4945.33         80845288221.60  88266586724.51 
23          4489.35         4974.00         76344790639.43  84586573926.78 
24          4516.77         5065.90         80452749791.40  90233921611.59 
2021-12-16 18:56:59,406 - __main__ - INFO - relative error:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           0.00            0.01            0.00            0.01           
1           0.02            0.08            0.02            0.08           
2           0.00            0.09            0.00            0.09           
3           0.00            0.00            0.00            0.00           
4           0.00            0.05            0.00            0.05           
5           0.01            0.01            0.01            0.01           
6           0.00            0.05            0.00            0.05           
7           0.00            0.01            0.00            0.01           
8           0.01            0.01            0.01            0.01           
9           0.01            0.08            0.01            0.08           
10          0.00            0.05            0.00            0.05           
11          0.00            0.03            0.00            0.03           
12          0.01            0.05            0.01            0.05           
13          0.00            0.00            0.00            0.00           
14          0.00            0.04            0.00            0.04           
15          0.01            0.01            0.01            0.01           
16          0.01            0.03            0.01            0.03           
17          0.01            0.00            0.01            0.00           
18          0.01            0.00            0.01            0.00           
19          0.00            0.02            0.00            0.02           
20          0.00            0.01            0.00            0.01           
21          0.00            0.05            0.00            0.05           
22          0.02            0.01            0.02            0.01           
23          0.01            0.01            0.01            0.01           
24          0.01            0.04            0.01            0.04           
2021-12-16 18:56:59,407 - __main__ - INFO - relative error average :0.017740698196542254
2021-12-16 18:56:59,407 - __main__ - INFO - relative error normalized average :0.017353528300956902
2021-12-16 18:56:59,407 - __main__ - INFO - relative error var normalized average :0.0021610089333119233
2021-12-16 18:56:59,407 - __main__ - INFO - total_time:6.104447711259127
