main.py:20: FutureWarning: Passing a negative integer is deprecated in version 1.0 and will not be supported in future version. Instead, use None to not limit the column width.
  pd.set_option('max_colwidth', -1)
2021-12-16 18:55:23,286 - __main__ - INFO - load query config config/query/customer_with_inc_join_supplier.json successfully
2021-12-16 18:55:23,287 - __main__ - INFO - load train config ./config/train/tpch_customer_with_inc_torch_cvae.json successfully
2021-12-16 18:55:23,287 - __main__ - INFO - load train config ./config/train/tpch_supplier_torch_cvae.json successfully
2021-12-16 18:55:23,287 - utils.dataset_utils - INFO - load existing dataset(light):tpch-1m-customer-with-inc_c_nationkey_c_acctbal_c_nationkey_binary_gaussian5_0
2021-12-16 18:55:23,325 - utils.dataset_utils - INFO - load dataset(light) time elapsed:0.037973164580762386
2021-12-16 18:55:23,325 - models.pytorch_cvae - INFO - feature info:[('c_acctbal', 'numerical', 6), ('c_nationkey', 'categorical', 6)]
2021-12-16 18:55:23,326 - utils.model_utils - INFO - load model name:torch_cvae_tpch-1m-customer-with-inc_c_nationkey_ld50_id100_bs1024_ep100_0_binary_gaussian5
2021-12-16 18:55:25,398 - utils.model_utils - INFO - load torch model time elapsed:2.072525712661445
2021-12-16 18:55:25,399 - models.pytorch_cvae - INFO - load model time elapsed:2.1119576701894403
2021-12-16 18:55:25,399 - utils.dataset_utils - INFO - load existing dataset(light):tpch-1m-supplier_s_nationkey#s_suppkey_s_acctbal_s_nationkey_binary_gaussian5_0
2021-12-16 18:55:25,401 - utils.dataset_utils - INFO - load dataset(light) time elapsed:0.002692772075533867
2021-12-16 18:55:25,401 - models.pytorch_cvae - INFO - feature info:[('s_acctbal', 'numerical', 6), ('s_nationkey', 'categorical', 6), ('s_suppkey', 'categorical', 15)]
2021-12-16 18:55:25,402 - utils.model_utils - INFO - load model name:torch_cvae_tpch-1m-supplier_s_nationkey_ld50_id100_bs32_ep150_0_binary_gaussian5
2021-12-16 18:55:25,403 - utils.model_utils - INFO - load torch model time elapsed:0.0013332609087228775
2021-12-16 18:55:25,403 - models.pytorch_cvae - INFO - load model time elapsed:0.004743143916130066
2021-12-16 18:55:25,403 - __main__ - INFO - multi_sampling No.0 epoch
2021-12-16 18:55:25,404 - models.pytorch_cvae - INFO - statistics sampling rate:0.05
2021-12-16 18:55:25,404 - __main__ - INFO - multi_sampling No.1 epoch
2021-12-16 18:55:25,409 - models.pytorch_cvae - INFO - statistics sampling rate:0.05
2021-12-16 18:55:25,411 - __main__ - INFO - multi_sampling No.2 epoch
2021-12-16 18:55:25,412 - models.pytorch_cvae - INFO - statistics sampling rate:0.05
2021-12-16 18:55:26,658 - models.pytorch_cvae - INFO - sampling time:1.2454763073474169
2021-12-16 18:55:26,681 - models.pytorch_cvae - INFO - sampling time:1.2706164913251996
2021-12-16 18:55:26,899 - models.pytorch_cvae - INFO - sampling time:1.4952818034216762
2021-12-16 18:55:26,900 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:55:27,103 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:55:27,117 - models.pytorch_cvae - INFO - statistics sampling rate:0.1
2021-12-16 18:55:27,187 - models.pytorch_cvae - INFO - sampling time:0.08268229942768812
2021-12-16 18:55:27,221 - models.pytorch_cvae - INFO - sampling time:0.10349950473755598
2021-12-16 18:55:27,359 - models.pytorch_cvae - INFO - sampling time:0.4565475909039378
2021-12-16 18:55:27,466 - __main__ - INFO - sample and aggregation time elapsed:2.054465599358082
2021-12-16 18:55:27,496 - __main__ - INFO - sample and aggregation time elapsed:2.0922179697081447
2021-12-16 18:55:27,551 - __main__ - INFO - sample and aggregation time elapsed:2.142152111046016
2021-12-16 18:55:27,556 - __main__ - INFO - sample time:2.152662482112646
2021-12-16 18:55:27,569 - __main__ - INFO - aqp result:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           4551.12         5208.24         75740891068.31  86676828825.29 
1           4525.64         4874.61         78809078812.42  84886095525.23 
2           4471.46         5064.30         83071485664.99  94085392460.46 
3           4463.14         4899.18         83440205065.56  91592227230.66 
4           4538.96         4836.02         71570278348.64  76254436086.23 
5           4497.83         4946.84         69468379700.78  76403194589.76 
6           4472.47         4996.09         78592717629.66  87794147432.28 
7           4555.74         4464.58         78368702532.37  76800441176.61 
8           4468.17         4664.44         78433571210.56  81878955872.49 
9           4529.01         5010.90         79013075367.93  87420211153.60 
10          4480.75         4951.37         81256819842.10  89791466201.42 
11          4487.29         4239.74         81252339999.44  76769780472.96 
12          4558.07         5211.45         78412220726.02  89652260812.01 
13          4446.02         4942.27         73065105147.34  81220496321.58 
14          4530.92         4859.72         81856789345.60  87796957991.19 
15          4501.93         5135.49         73253913681.00  83562868944.17 
16          4514.20         5250.25         75374864624.75  87664863989.85 
17          4497.62         5840.43         77159787321.84  100196792004.19
18          4513.24         4815.25         80836286969.42  86245587442.44 
19          4498.75         4846.31         75597871939.65  81438299277.85 
20          4442.97         4764.00         77654701937.30  83265812488.45 
21          4495.97         4854.29         79057770025.84  85358539339.49 
22          4491.23         5038.29         80161582765.17  89925868249.41 
23          4509.26         4595.84         76683427750.82  78155765881.90 
24          4455.73         5001.99         79365458772.87  89095438974.17 
2021-12-16 18:55:27,572 - __main__ - INFO - ground truth:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           4495.08         4750.47         74808300307.97  79058543738.51 
1           4481.35         5156.38         78037804737.42  89792862870.19 
2           4500.11         4926.83         83603605816.42  91531433246.36 
3           4501.52         4976.52         84157817962.92  93037962787.86 
4           4481.25         4955.13         70660420363.18  78132509824.90 
5           4506.27         5017.03         69598653692.12  77487270820.80 
6           4487.10         5263.09         78849876383.14  92485978451.44 
7           4480.55         4725.51         77075278088.26  81289117007.37 
8           4500.54         4898.26         79001842301.71  85983328363.66 
9           4508.52         5056.46         78655627222.94  88215027610.30 
10          4518.18         4934.04         81935710769.84  89477117315.13 
11          4512.10         4846.61         81701543083.81  87758487179.40 
12          4496.61         4905.97         77354913969.64  84397069733.16 
13          4506.92         4967.01         74066058944.76  81627052771.36 
14          4482.32         4748.57         80978762526.42  85788910922.73 
15          4515.02         4993.59         73466872175.01  81253978684.79 
16          4511.16         5125.84         75324113973.83  85587620982.90 
17          4471.53         5194.81         76712255703.01  89120736244.02 
18          4468.37         5153.13         80032519501.53  92297274686.32 
19          4490.91         4865.91         75466160926.82  81767784036.93 
20          4494.50         5210.90         78555417820.06  91076766492.73 
21          4497.21         5087.25         79079595482.76  89454975198.84 
22          4529.54         4945.33         80845288221.60  88266586724.51 
23          4489.35         4974.00         76344790639.43  84586573926.78 
24          4516.77         5065.90         80452749791.40  90233921611.59 
2021-12-16 18:55:27,583 - __main__ - INFO - relative error:
             avg(c_acctbal)  avg(s_acctbal)  sum(c_acctbal)  sum(s_acctbal)
c_nationkey                                                                
0           0.01            0.10            0.01            0.10           
1           0.01            0.05            0.01            0.05           
2           0.01            0.03            0.01            0.03           
3           0.01            0.02            0.01            0.02           
4           0.01            0.02            0.01            0.02           
5           0.00            0.01            0.00            0.01           
6           0.00            0.05            0.00            0.05           
7           0.02            0.06            0.02            0.06           
8           0.01            0.05            0.01            0.05           
9           0.00            0.01            0.00            0.01           
10          0.01            0.00            0.01            0.00           
11          0.01            0.13            0.01            0.13           
12          0.01            0.06            0.01            0.06           
13          0.01            0.00            0.01            0.00           
14          0.01            0.02            0.01            0.02           
15          0.00            0.03            0.00            0.03           
16          0.00            0.02            0.00            0.02           
17          0.01            0.12            0.01            0.12           
18          0.01            0.07            0.01            0.07           
19          0.00            0.00            0.00            0.00           
20          0.01            0.09            0.01            0.09           
21          0.00            0.05            0.00            0.05           
22          0.01            0.02            0.01            0.02           
23          0.00            0.08            0.00            0.08           
24          0.01            0.01            0.01            0.01           
2021-12-16 18:55:27,583 - __main__ - INFO - relative error average :0.02590077683660533
2021-12-16 18:55:27,583 - __main__ - INFO - relative error normalized average :0.025112764641472888
2021-12-16 18:55:27,583 - __main__ - INFO - relative error var normalized average :0.0042842551747866876
2021-12-16 18:55:27,584 - __main__ - INFO - total_time:4.297313356772065
